Microsoft.Live.Core.Loader.onResourceAvailable('messenger_common', function() { 
// Copyright (c) Microsoft Corporation. All rights reserved.
Type.registerNamespace('MC');MC.$create_ChannelEndpointInfo=function(id,type){var $o={};$o.id=id;$o.type=type;return $o;}
MC.ChannelEndpointType=function(){};MC.ChannelEndpointType.prototype={initializer:0,monitor:1,delegatedAuthControlIdentity:2,signInControlIdentity:3,rpsAuthIdentity:4,delegatedAuthIdentity:5,application:6,pubSub:7}
MC.ChannelEndpointType.registerEnum('MC.ChannelEndpointType',false);MC.ChannelEndpoint=function(channelEndpointInfo,channel){this.$0=channelEndpointInfo;this.$1=channel;this.sendMessage('$CreateEndpoint',[this.$0.id]);}
MC.ChannelEndpoint.$4=function($p0){var $0=$p0.length;var $1=new Array($0-1);for(var $2=0;$2<$0-1;$2++){$1[$2]=$p0[$2];}return $1;}
MC.ChannelEndpoint.$5=function($p0,$p1){var $0=($p0!=null)?$p0.length:0;var $1=new Array($0+1);$1[$0]=$p1;for(var $2=0;$2<$0;$2++){$1[$2]=$p0[$2];}return $1;}
MC.ChannelEndpoint.$6=function($p0){if(($p0!=null)&&($p0.length>0)){return $p0[$p0.length-1];}return null;}
MC.ChannelEndpoint.prototype={$0:null,$1:null,$2:false,get_id:function(){return this.$0.id;},get_type:function(){return this.$0.type;},$3:function($p0,$p1){if(this.$2){return;}var $0=$p1.get_command();var $1=$p1.get_parameters();if($0==='$CreateEndpoint'){return;}if(!String.isNullOrEmpty($0)){if(this.$7!=null){$p1=new MLC.ChannelMessageReceivedEventArgs($0,MC.ChannelEndpoint.$4($1));this.$7.invoke(this,$p1);}}},add_messageReceived:function(value){this.$7=ss.Delegate.combine(this.$7,value);},remove_messageReceived:function(value){this.$7=ss.Delegate.remove(this.$7,value);},$7:null,sendMessage:function(command,parameters){if(this.$2){return;}this.$1.sendMessage(command,MC.ChannelEndpoint.$5(parameters,this.$0));},dispose:function(){if(this.$2){return;}this.sendMessage('$DisposeEndpoint',null);this.$1=null;this.$2=true;}}
MC.ChannelEndpointMultiplexer=function(channelImpl){this.$3=false;this.$0=channelImpl;this.$2={};this.$0.add_messageReceived(ss.Delegate.create(this,this.$6));}
MC.ChannelEndpointMultiplexer.prototype={$0:null,$2:null,$3:false,add_channelEndpointCreated:function(value){this.$4=ss.Delegate.combine(this.$4,value);},remove_channelEndpointCreated:function(value){this.$4=ss.Delegate.remove(this.$4,value);},$4:null,add_channelEndpointDisposed:function(value){this.$5=ss.Delegate.combine(this.$5,value);},remove_channelEndpointDisposed:function(value){this.$5=ss.Delegate.remove(this.$5,value);},$5:null,$6:function($p0,$p1){var $0=$p1.get_parameters();var $1=MC.ChannelEndpoint.$6($0);if($1==null){return;}if(!Object.keyExists(this.$2,$1.id.toString())){var $2=this.createChannelEndpointByInfo($1);$2.$3(this,$p1);}else{var $3=this.$2[$1.id.toString()];if($p1.get_command()==='$DisposeEndpoint'){this.$8($3);$3.dispose();delete this.$2[$1.id.toString()];}else{$3.$3(this,$p1);}}},createNewChannelEndpoint:function(endpointType){var $0=new MC.ChannelEndpoint(MC.$create_ChannelEndpointInfo(MC.ChannelEndpointMultiplexer.$1++,endpointType),this.$0);this.$2[$0.get_id().toString()]=$0;this.$7($0);return $0;},createChannelEndpointByInfo:function(endpointInfo){var $0=new MC.ChannelEndpoint(endpointInfo,this.$0);this.$2[$0.get_id().toString()]=$0;this.$7($0);return $0;},$7:function($p0){if(this.$4!=null){this.$4.invoke(this,new MC.ChannelEndpointEventArgs($p0));}},$8:function($p0){if(this.$5!=null){this.$5.invoke(this,new MC.ChannelEndpointEventArgs($p0));}},dispose:function(){if(this.$3){return;}this.$0.remove_messageReceived(ss.Delegate.create(this,this.$6));this.$0=null;var $dict1=this.$2;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};($0.value).dispose();}Object.clearKeys(this.$2);this.$3=true;}}
MC.ChannelEndpointEventArgs=function(channelEndpoint){MC.ChannelEndpointEventArgs.initializeBase(this);this.$1_0=channelEndpoint;}
MC.ChannelEndpointEventArgs.prototype={$1_0:null,get_channelEndpoint:function(){return this.$1_0;}}
MC.IAbortable=function(){};MC.IAbortable.registerInterface('MC.IAbortable');MC.AddressBookResultCode=function(){};MC.AddressBookResultCode.prototype={success:0,failure:1,notFound:2}
MC.AddressBookResultCode.registerEnum('MC.AddressBookResultCode',false);MC.IAddressBook=function(){};MC.IAddressBook.registerInterface('MC.IAddressBook');MC.IApplicationService=function(){};MC.IApplicationService.registerInterface('MC.IApplicationService');MC.IApplicationServiceEvents=function(){};MC.IApplicationServiceEvents.registerInterface('MC.IApplicationServiceEvents');MC.IAuthenticatedCommand=function(){};MC.IAuthenticatedCommand.registerInterface('MC.IAuthenticatedCommand');MC.IConfigurationService=function(){};MC.IConfigurationService.registerInterface('MC.IConfigurationService');MC.ConnectionServiceResultCode=function(){};MC.ConnectionServiceResultCode.prototype={success:0,failure:1,signedOutRoaming:2,signedOutExceededMaxEndpointCount:3,unauthenticated:4}
MC.ConnectionServiceResultCode.registerEnum('MC.ConnectionServiceResultCode',false);MC.IConnectionService=function(){};MC.IConnectionService.registerInterface('MC.IConnectionService');MC.IConnectionServiceEvents=function(){};MC.IConnectionServiceEvents.registerInterface('MC.IConnectionServiceEvents');MC.ConversationResultCode=function(){};MC.ConversationResultCode.prototype={success:0,failure:1}
MC.ConversationResultCode.registerEnum('MC.ConversationResultCode',false);MC.IConversationEvents=function(){};MC.IConversationEvents.registerInterface('MC.IConversationEvents');MC.IConversationService=function(){};MC.IConversationService.registerInterface('MC.IConversationService');MC.ExpressionProfileResultCode=function(){};MC.ExpressionProfileResultCode.prototype={success:0,failure:1}
MC.ExpressionProfileResultCode.registerEnum('MC.ExpressionProfileResultCode',false);MC.IExpressionProfile=function(){};MC.IExpressionProfile.registerInterface('MC.IExpressionProfile');MC.IdentityServiceResultCode=function(){};MC.IdentityServiceResultCode.prototype={success:0,failure:1}
MC.IdentityServiceResultCode.registerEnum('MC.IdentityServiceResultCode',false);MC.IIdentityService=function(){};MC.IIdentityService.registerInterface('MC.IIdentityService');MC.LocallyStoredElementType=function(){};MC.LocallyStoredElementType.prototype={signInStatusResponse:1,contacts:2,groups:3,networks:4,userSettings:5,configuration:6,messengerSessionState:7,messengerSessionEvents:8,conversations:9,conversationHistory:10,signInStatusTicket:11,alerts:12,applicationInfo:13,appContactsTicketInfo:14,appContactsPresenceInfo:15,appContactListInfo:16,rpsAnonCookie:17}
MC.LocallyStoredElementType.registerEnum('MC.LocallyStoredElementType',false);MC.ILocalStorageService=function(){};MC.ILocalStorageService.registerInterface('MC.ILocalStorageService');MC.ILogContext=function(){};MC.ILogContext.registerInterface('MC.ILogContext');MC.LogLevel=function(){};MC.LogLevel.prototype={error:0,warning:1,information:2,trace:3}
MC.LogLevel.registerEnum('MC.LogLevel',false);MC.ILogger=function(){};MC.ILogger.registerInterface('MC.ILogger');MC.IUserService=function(){};MC.IUserService.registerInterface('MC.IUserService');MC.MessengerServiceResultCode=function(){};MC.MessengerServiceResultCode.prototype={success:0,failure:1,notFound:2,unauthenticated:3,notAllowed:4,messageTooLong:5,messageRecipientInvalid:6,messageRecipientDisabled:7,failedToPersist:8,failedToConnect:9}
MC.MessengerServiceResultCode.registerEnum('MC.MessengerServiceResultCode',false);MC.IUserServiceEvents=function(){};MC.IUserServiceEvents.registerInterface('MC.IUserServiceEvents');MC.IMessengerStatusSnapshot=function(){};MC.IMessengerStatusSnapshot.registerInterface('MC.IMessengerStatusSnapshot');MC.IPersistedConversationService=function(){};MC.IPersistedConversationService.registerInterface('MC.IPersistedConversationService');MC.IServiceFactory=function(){};MC.IServiceFactory.registerInterface('MC.IServiceFactory');MC.$create_AlertInfo=function(sender,senderDisplayName,receiver,siteUrl,subscrUrl,actionUrl,iconUrl,lang,message,timestamp,type,reloaded){var $o={};$o.sender=sender;$o.senderDisplayName=senderDisplayName;$o.receiver=receiver;$o.siteUrl=siteUrl;$o.subscrUrl=subscrUrl;$o.actionUrl=actionUrl;$o.iconUrl=iconUrl;$o.lang=lang;$o.message=message;$o.timestamp=timestamp;$o.type=type;$o.reloaded=reloaded;return $o;}
MC.AlertType=function(){};MC.AlertType.prototype={social:1,abch:2,sup:3,storage:4,iSvcProvider:5,other:6}
MC.AlertType.registerEnum('MC.AlertType',false);MC.$create_AppAuthRequest=function(version,clientVersion,appVerifier){var $o={};$o.version=version;$o.clientVersion=clientVersion;$o.appVerifier=appVerifier;return $o;}
MC.$create_AppAuthResponse=function(appSecurityToken,isContactsSignatureRequired){var $o={};$o.appSecurityToken=appSecurityToken;$o.isContactsSignatureRequired=isContactsSignatureRequired;return $o;}
MC.$create_AppContactsOperation=function(operationCode,appTicket,cids,userState){var $o={};$o.operationCode=operationCode;$o.ticket=appTicket;$o.cids=cids;$o.userState=userState;$o.ticketUpdated=false;$o.collectionUpdated=false;$o.eventRaised=false;$o.contactsDataRetrieved=(operationCode===1||operationCode===3||$o.cids.length===0);$o.eventRaised=(operationCode===3);return $o;}
MC.AppContactsOperationCode=function(){};MC.AppContactsOperationCode.prototype={add:0,remove:1,set:2,reset:3}
MC.AppContactsOperationCode.registerEnum('MC.AppContactsOperationCode',false);MC.$create_AppContactsPresenceInfo=function(presenceInfo,addressInfo){var $o={};$o.addressInfo=addressInfo;$o.presenceInfo=presenceInfo;return $o;}
MC.$create_AppContactsPresenceInfoRequest=function(version,clientVersion,authInfo,currentTicket,cids){var $o={};$o.version=version;$o.authInfo=authInfo;$o.clientVersion=clientVersion;$o.currentTicket=currentTicket;$o.cids=cids;return $o;}
MC.$create_AppContactsPresenceInfoResponse=function(presenceInfo){var $o={};$o.presenceInfo=presenceInfo;return $o;}
MC.AppContactsResultCode=function(){};MC.AppContactsResultCode.prototype={success:0,failure:1,invalidSignature:2,invalidContactList:3,invalidContactListSize:4,timedOut:5}
MC.AppContactsResultCode.registerEnum('MC.AppContactsResultCode',false);MC.$create_AppContactsUpdateInfo=function(operationCode,contactData,signature,userState){var $o={};$o.operationCode=operationCode;$o.contactData=contactData;$o.signature=signature;$o.userState=userState;return $o;}
MC.$create_AppContactsUpdateRequest=function(version,clientVersion,authInfo,currentTicket,context,cids){var $o={};$o.version=version;$o.authInfo=authInfo;$o.clientVersion=clientVersion;$o.currentTicket=currentTicket;$o.applicationContacts=context;$o.cids=cids;return $o;}
MC.$create_AppContactsUpdateResponse=function(ticket,applicationSignature,messengerSignature){var $o={};$o.ticket=ticket;$o.applicationSignature=applicationSignature;$o.messengerSignature=messengerSignature;return $o;}
MC.$create_ApplicationDataInfo=function(domain,properties,messageIds){var $o={};$o.domain=domain;$o.properties=properties;$o.messageIds=messageIds;return $o;}
MC.$create_AppSettingsInfo=function(contactsSignatureRequired){var $o={};$o.contactsSignatureRequired=contactsSignatureRequired;return $o;}
MC.$create_AuthenticationInfo=function(authType,ticket){var $o={};switch(authType){case 3:case 2:if(String.isNullOrEmpty(ticket)){throw new Error('Value cannot be null: ticket');}break;case 1:break;default:break;}$o.authType=authType;$o.ticket=ticket;return $o;}
MC.AuthenticationType=function(){};MC.AuthenticationType.prototype={rpsAuth:1,delAuth:2,appAuth:3}
MC.AuthenticationType.registerEnum('MC.AuthenticationType',false);MC.BooleanValue=function(){};MC.BooleanValue.prototype={None:0,True:1,False:2}
MC.BooleanValue.registerEnum('MC.BooleanValue',false);MC.DisplayNameOptions=function(){};MC.DisplayNameOptions.prototype={displayName:0,fullName:1}
MC.DisplayNameOptions.registerEnum('MC.DisplayNameOptions',false);MC.ClientType=function(){};MC.ClientType.prototype={unknown:0,computer:1,website:2,mobile:3,xbox:4,zune:5,iPhone:6,mac:7,SMS:8}
MC.ClientType.registerEnum('MC.ClientType',false);MC.CompatibilityVersion=function(){};MC.CompatibilityVersion.prototype={current:0,version37:1,version40:2,version30:3,version31:4,version35:5}
MC.CompatibilityVersion.registerEnum('MC.CompatibilityVersion',false);MC.$create_EmailInfo=function(address){var $o={};address=address.toLowerCase();$o.address=address.trim();return $o;}
MC.$create_ExceptionLogEntryInfo=function(e){var $o={};$o.message=e.message;$o.stackTrace=e.toString();return $o;}
MC.$create_GetAddressBookRequest=function(version,compatibilityVersion,domain,clientVersion,authInfo,market){var $o={};$o.version=version;$o.compatibilityVersion=compatibilityVersion;$o.domain=domain;$o.clientVersion=clientVersion;$o.authInfo=authInfo;$o.market=market;return $o;}
MC.$create_GetAddressBookResponse=function(networks,groups,contacts,settings){var $o={};$o.networks=networks;$o.groups=groups;$o.contacts=contacts;$o.settings=settings;return $o;}
MC.$create_HttpRequestLogEntryInfo=function(url,statusText,responseText){var $o={};$o.url=url;$o.statusText=statusText;$o.responseText=responseText;return $o;}
MC.$create_InitializationOptionsInfo=function(disableLocalStorage,clearStorageBeforeUse,allowLocalSignIn){var $o={};$o.disableLocalStorage=disableLocalStorage;$o.clearStorageBeforeUse=clearStorageBeforeUse;$o.allowLocalSignIn=allowLocalSignIn;return $o;}
MC.$create_InstanceInfo=function(id,local,primary){var $o={};$o.id=id||String.Empty;$o.isLocal=local;$o.isPrimary=primary;return $o;}
MC.$create_LocalSettingsInfo=function(simulatePrivateSessionStorageEnabled,crossPageSupportEnabled){var $o={};$o.simulatePrivateSessionStorageEnabled=simulatePrivateSessionStorageEnabled;$o.crossPageSupportEnabled=crossPageSupportEnabled;return $o;}
MC.$create_LogEntryInfo=function(type,logContext,level,location,message,extraState){var $o={};$o.time=Date.get_now();$o.type=type;$o.context=logContext.get_context();$o.level=level;$o.location=location||String.Empty;$o.message=message;$o.extraState=extraState;return $o;}
MC.LogEntryType=function(){};MC.LogEntryType.prototype={normal:0,exception:1,httpRequest:2,stateChange:3}
MC.LogEntryType.registerEnum('MC.LogEntryType',false);MC.$create_MessengerSessionEvents=function(events){var $o={};$o.events=events;return $o;}
MC.$create_MessengerSessionState=function(server,sessionToken,transactionID,services,disconnected){var $o={};$o.server=server;$o.sessionToken=sessionToken;$o.transactionID=transactionID;$o.services=services;$o.disconnected=disconnected;return $o;}
MC.NetworkConnectionType=function(){};MC.NetworkConnectionType.prototype={none:0,windowsLive:1,connect:2}
MC.NetworkConnectionType.registerEnum('MC.NetworkConnectionType',false);MC.$create_NetworkInfo=function(id,name,connectionType,isRemoteNetwork,photoUrlFormat,profileUrlFormat,sendMessageUrlFormat,reportAbuseUrlFormat){var $o={};$o.id=id;$o.name=name;$o.connectionType=connectionType;$o.photoUrlFormat=photoUrlFormat;$o.profileUrlFormat=profileUrlFormat;$o.sendMessageUrlFormat=sendMessageUrlFormat;$o.reportAbuseUrlFormat=reportAbuseUrlFormat;$o.supportsIM=(connectionType!==0);$o.imEnabled=false;$o.tokenState=String.Empty;$o.status=0;$o.isRemoteNetwork=isRemoteNetwork;return $o;}
MC.NetworkInfoStatus=function(){};MC.NetworkInfoStatus.prototype={signedOut:0,signingIn:1,signedIn:2,signingOut:3,autoReconnectWaiting:4}
MC.NetworkInfoStatus.registerEnum('MC.NetworkInfoStatus',false);MC.NetworkOperationType=function(){};MC.NetworkOperationType.prototype={none:0,connect:1,disconnect:2,enableIM:4,disableIM:8}
MC.NetworkOperationType.registerEnum('MC.NetworkOperationType',true);MC.$create_PersistedAlert=function(actionUrl,subscrUrl,iconUrl,timestamp,text,type){var $o={};$o.actionUrl=actionUrl;$o.subscrUrl=subscrUrl;$o.iconUrl=iconUrl;$o.timestamp=timestamp;$o.text=text;$o.type=type;return $o;}
MC.$create_PersistedAlerts=function(){return{};}
MC.$create_PersistedAppContactsPresenceInfo=function(presenceInfoList){var $o={};$o.presenceInfoList=presenceInfoList;$o.creationTime=Date.get_now();return $o;}
MC.$create_PersistedAppContactsTicketInfo=function(cids,ticketInfo){var $o={};$o.cids=cids;$o.ticketInfo=ticketInfo;$o.creationTime=Date.get_now();return $o;}
MC.$create_AppContactInfo=function(cid,appDisplayName,appPersonalMessage,appDisplayPictureUrl,contactListEnabled){var $o={};$o.cid=cid;$o.applicationDisplayName=appDisplayName;$o.applicationPersonalMessage=appPersonalMessage;$o.applicationDisplayPictureUrl=appDisplayPictureUrl;$o.contactListEnabled=contactListEnabled;return $o;}
MC.$create_PersistedApplicationInfo=function(appId,authInfo){var $o={};$o.id=appId;$o.authResponse=authInfo;$o.creationTime=Date.get_now();return $o;}
MC.$create_ConversationMessages=function(conversationId,messages){var $o={};$o.conversationId=conversationId;$o.messages=messages;return $o;}
MC.$create_PersistedConversation=function(id,user,roster,rosterMri,hasUnreadMessages){var $o={};$o.id=id;$o.user=user;$o.roster=roster;$o.rosterMri=rosterMri;$o.hasUnreadMessages=hasUnreadMessages;return $o;}
MC.$create_PersistedConversations=function(){return{};}
MC.$create_ConsentStatusResponse=function(isConsented,cid){var $o={};if(isConsented){}$o.isConsented=isConsented;$o.cid=cid;$o.consentToken=String.Empty;return $o;}
MC.$create_ServiceEndpointDataInfo=function(endpointId,serviceType,properties){var $o={};$o.endpointId=endpointId;$o.properties=properties;$o.service=serviceType;return $o;}
MC.ServiceType=function(){};MC.ServiceType.prototype={none:0,PE:1,IM:2,PD:4,CM:8}
MC.ServiceType.registerEnum('MC.ServiceType',true);MC.$create_ServiceDataInfo=function(serviceType,properties,endpointProperties){var $o={};$o.service=serviceType;$o.properties=properties;$o.endpointData=endpointProperties;return $o;}
MC.$create_StateChangeLogEntryInfo=function(key,value){var $o={};$o.key=key;$o.value=value;return $o;}
MC.$create_ApplicationMessageInfo=function(id,content){var $o={};$o.id=id;$o.content=content||String.Empty;return $o;}
MC.CapabilitiesFlags=function(){};MC.CapabilitiesFlags.prototype={none:0,onlineViaMobile:1,onlineViaTexas:2,supportsGifInk:4,supportsIsfInk:8,webCamDetected:16,supportsChunking:32,mobileEnabled:64,webWatchEnabled:128,supportsActivities:256,onlineViaWebIM:512,mobileDevice:1024,onlineViaFederatedInterface:2048,hasSpace:4096,isMceUser:8192,supportsDirectIM:16384,supportsWinks:32768,supportsSharedSearch:65536,isBot:131072,supportsVoiceIM:262144,supportsSChannel:524288,supportsSipInvite:1048576,supportsMultipartyMedia:2097152,supportsSDrive:4194304,supportsPageModeMessaging:8388608,hasOneCare:16777216,supportsTurn:33554432,supportsDirectBootstrapping:67108864,usingAlias:134217728,appVersion60:268435456,appVersion61:536870912,appVersion62:805306368,appVersion70:1073741824,appVersion75:1342177280,appVersion80:1610612736,appVersion81:1879048192,appVersion85:2147483648,appVersion90:2415919104,appVersion2009:2684354560,isSmsOnly:1,supportsVoiceOverMsnp:2,supportsUucpSipStack:4,supportsApplicationMessages:8,supportsRtcVideo:16,supportsPeerToPeerV2:32,isAuthenticatedWebIMUser:64,supportsOfflineIM:256,supportsNudges:1024,supportsPeerToPeerMixerRelay:32768,supportsPeerToPeerEnveloping:524288,yahooIMDisabled:4194304,supportsMultipartyConversations:2147483648,supportsMissedConversations:1,appVersionMask:4026531840}
MC.CapabilitiesFlags.registerEnum('MC.CapabilitiesFlags',true);MC.$create_ContactInfo=function(id,nickname,addresses){var $o={};$o.id=id;$o.nickname=nickname;$o.addresses=addresses;$o.firstName=String.Empty;$o.lastName=String.Empty;$o.favoritesOrder=null;return $o;}
MC.DatagramInfoType=function(){};MC.DatagramInfoType.prototype={sdg:0,imGroupPut:1,imGroupDel:2,put:3,del:4,serviceDataPut:5,serviceDataDel:6,networkDataPut:7}
MC.DatagramInfoType.registerEnum('MC.DatagramInfoType',false);MC.$create_EndpointPresenceInfo=function(id,domain,name,capabilities,properties,messageIds,customProperties,applicationId,applicationDisplayName,applicationPersonalMessage,applicationDisplayPictureUrl,applicationName){var $o={};$o.id=id;$o.domain=domain;$o.endpointName=name;$o.capabilities=((capabilities==null)?[]:capabilities);$o.properties=properties;$o.applicationMessageIds=messageIds;$o.webProperties=customProperties;$o.applicationId=applicationId;$o.applicationDisplayName=applicationDisplayName;$o.applicationPersonalMessage=applicationPersonalMessage;$o.applicationName=applicationName;$o.applicationDisplayPictureUrl=applicationDisplayPictureUrl;return $o;}
MC.FontStyleFlags=function(){};MC.FontStyleFlags.prototype={regular:0,bold:1,italic:2,strikeout:4,underline:8}
MC.FontStyleFlags.registerEnum('MC.FontStyleFlags',true);MC.$create_GroupInfo=function(id,name,contactIds){var $o={};$o.id=id;$o.name=name;$o.isFavorites=false;$o.contactIds=contactIds||new Array(0);return $o;}
MC.$create_IdentityInfo=function(liveId,endpointId){var $o={};$o.liveId=liveId;$o.endpointId=endpointId;$o.cid='';$o.appId='';$o.puid='';$o.experienceId=null;return $o;}
MC.$create_IMAddressInfo=function(address,type,roleLists){var $o={};if(type===13){$o.address=address;}else{$o.address=(address!=null)?address.toLowerCase():null;}$o.type=type;$o.roleLists=roleLists;if($o.type===11){$o.cid=address;}else{$o.cid=String.Empty;}$o.id=$o.address;$o.isFan=false;return $o;}
MC.IMAddressInfoType=function(){};MC.IMAddressInfoType.prototype={none:0,windowsLive:1,officeCommunicator:2,telephone:4,mobileNetwork:8,circle:9,temporaryGroup:10,cid:11,connect:13,remoteNetwork:14,smtp:16,yahoo:32}
MC.IMAddressInfoType.registerEnum('MC.IMAddressInfoType',false);MC.$create_KeyValuePair=function(key,value){var $o={};$o.key=key;$o.value=value;return $o;}
MC.MessageChannelType=function(){};MC.MessageChannelType.prototype={none:0,online:1,offline:2,mobile:3}
MC.MessageChannelType.registerEnum('MC.MessageChannelType',false);MC.$create_MessageInfo=function(type,info){var $o={};$o.type=type;$o.sender=null;$o.timestamp=Date.get_now();$o.isOfflineMessage=false;$o.info=info;return $o;}
MC.MessageInfoType=function(){};MC.MessageInfoType.prototype={unknownMessage:0,textMessage:1,nudgeMessage:2,applicationMessage:3,markIMWindowReadMessage:251,closeIMWindowMessage:252,typingUserMessage:255}
MC.MessageInfoType.registerEnum('MC.MessageInfoType',false);MC.$create_NotificationInfo=function(){return{};}
MC.$create_PresenceInfo=function(status,displayName,personalMessage,networkIconUrl,capabilities,properties){var $o={};$o.status=status;$o.displayName=displayName;$o.displayPictureUrl=null;$o.personalMessage=personalMessage;$o.networkIconUrl=networkIconUrl;$o.capabilities=(capabilities!=null)?capabilities:[];$o.displayPictureKey=null;$o.properties=properties;$o.isIdentityUnverified=false;$o.isIdentityUnverifiedChanged=false;return $o;}
MC.PresenceInfoStatus=function(){};MC.PresenceInfoStatus.prototype={none:0,offline:1,online:2,appearOffline:3,busy:4,idle:5,beRightBack:6,away:7,inACall:8,outToLunch:9}
MC.PresenceInfoStatus.registerEnum('MC.PresenceInfoStatus',false);MC.PrivacyOptions=function(){};MC.PrivacyOptions.prototype={none:0,blockByDefault:1,allowByDefault:2}
MC.PrivacyOptions.registerEnum('MC.PrivacyOptions',false);MC.RichPsmLinkType=function(){};MC.RichPsmLinkType.prototype={none:0,simpleText:1,link:2,linkToVideo:3,photo:4,photos:5,video:6,document:7,location:8}
MC.RichPsmLinkType.registerEnum('MC.RichPsmLinkType',false);MC.RoleLists=function(){};MC.RoleLists.prototype={none:0,forward:1,allow:2,block:4,hideCompat:5,reverse:8,pending:16,applicationContact:32,hide:64}
MC.RoleLists.registerEnum('MC.RoleLists',true);MC.SendDatagramResultCode=function(){};MC.SendDatagramResultCode.prototype={success:0,failure:1,tooLong:2,recipientInvalid:3,recipientDisabled:4,recipientNotAcceptingIMs:5}
MC.SendDatagramResultCode.registerEnum('MC.SendDatagramResultCode',false);MC.SessionServiceOptions=function(){};MC.SessionServiceOptions.prototype={normal:0,notifications:1,contactPresence:2,full:3}
MC.SessionServiceOptions.registerEnum('MC.SessionServiceOptions',false);MC.$create_SettingsInfo=function(){var $o={};$o.hasInbox=false;$o.hasInboxChanged=false;$o.isIdentityUnverified=false;$o.isIdentityUnverifiedChanged=false;$o.isMpopDisabled=false;$o.isMpopDisabledChanged=false;$o.isAutoReconnectEnabled=true;$o.autoReconnectInitialWaitTime=-1;$o.privacyOptions=0;return $o;}
MC.$create_SignalMessageInfo=function(firstMri,secondMri){var $o={};$o.firstMri=firstMri;$o.secondMri=secondMri;return $o;}
MC.$create_SignInRequest=function(version,compatibilityVersion,domain,endpointId,endpointName,experienceId,status,services,clientType,clientVersion,authInfo,market){var $o={};$o.authInfo=authInfo;$o.clientType=clientType;$o.clientVersion=clientVersion;$o.compatibilityVersion=compatibilityVersion;$o.domain=domain;$o.endpointId=endpointId;$o.endpointName=endpointName;$o.experienceId=experienceId;$o.services=services;$o.status=status;$o.version=version;$o.market=market;return $o;}
MC.$create_SignInResponse=function(clientLibConfig,messengerSession,networks,groups,contacts,settings){var $o={};$o.clientConfiguration=clientLibConfig;$o.networks=networks;$o.groups=groups;$o.contacts=contacts;$o.messengerSession=messengerSession;$o.services=(messengerSession!=null)?messengerSession.services:0;$o.settings=settings;$o.duration=String.Empty;$o.serverName=String.Empty;return $o;}
MC.$create_SignInStatus=function(isAuthenticated,isAutoSignIn,isManualSignIn,isTrustedSignIn,isApplicationBlocked,isUnsupportedBrowser,isUserSignedInViaSpopClient,isUserSignedInViaMpopEndpoints,isMpopSettingEnabled,isUserBlocked,isTicketExpired){var $o={};$o.isAuthenticated=isAuthenticated;$o.isAutoSignIn=isAutoSignIn;$o.isManualSignIn=isManualSignIn;$o.isTrustedSignIn=isTrustedSignIn;$o.isApplicationBlocked=isApplicationBlocked;$o.isUnsupportedBrowser=isUnsupportedBrowser;$o.isUserSignedInViaSpopClient=isUserSignedInViaSpopClient;$o.isUserSignedInViaMpopEndpoints=isUserSignedInViaMpopEndpoints;$o.isMpopSettingEnabled=isMpopSettingEnabled;$o.isUserBlocked=isUserBlocked;$o.isTicketExpired=isTicketExpired;$o.lastStatus=2;return $o;}
MC.$create_SignInStatusRequest=function(version,authInfo,domain,clientVersion,market){var $o={};$o.version=version;$o.authInfo=authInfo;$o.domain=domain;$o.clientVersion=clientVersion;$o.market=market;return $o;}
MC.$create_SignInStatusResponse=function(identity,signInStatus){var $o={};if(identity!=null){$o.identity=identity;$o.signInStatus=signInStatus;$o.reloaded=false;$o.identity.puid=String.Empty;if($o.identity.authenticationInfo.authType===1){$o.identity.authenticationInfo.ticket=String.Empty;}}return $o;}
MC.SignOutLocationFlags=function(){};MC.SignOutLocationFlags.prototype={none:0,localEndpoint:1,remoteEndpoints:2,allEndpoints:3,specificEndpoints:8}
MC.SignOutLocationFlags.registerEnum('MC.SignOutLocationFlags',true);MC.SignOutReasonCode=function(){};MC.SignOutReasonCode.prototype={signedOutByLocalEndpoint:0,signedOutByRemoteEndpoint:1,connectionLost:2,serverError:3,endpointLimitExceeded:4,signedOutForReconnect:5,userTransferred:6}
MC.SignOutReasonCode.registerEnum('MC.SignOutReasonCode',false);MC.SubsystemType=function(){};MC.SubsystemType.prototype={core:0,addressBook:1,expressionProfile:2,identity:3,chat:4,presence:5,configuration:6,localStorage:7,application:8,pubSub:9,count:10}
MC.SubsystemType.registerEnum('MC.SubsystemType',false);MC.$create_TextMessageFormatInfo=function(fontColor,fontFamily,fontStyle,rightToLeft){var $o={};$o.fontColor=fontColor;$o.fontFamily=fontFamily||String.Empty;$o.fontStyle=fontStyle;$o.rightToLeft=rightToLeft;return $o;}
MC.$create_TextMessageInfo=function(text,format){var $o={};$o.text=text;$o.format=format;$o.safeUrl=String.Empty;return $o;}
MC.$create_TicketInfo=function(ticket,signature){var $o={};$o.ticket=ticket;$o.signature=signature;return $o;}
MC.UpdateIMAvailabilityOperationCode=function(){};MC.UpdateIMAvailabilityOperationCode.prototype={none:0,addContacts:1,removeContacts:2,addNetwork:3,removeNetwork:4}
MC.UpdateIMAvailabilityOperationCode.registerEnum('MC.UpdateIMAvailabilityOperationCode',false);MC.$create_UpdateIMAvailabilityServiceRequest=function(authInfo,addresses,networkSourceId,operation){var $o={};$o.authInfo=authInfo;$o.addresses=addresses;$o.networkSourceId=networkSourceId;$o.operation=operation;return $o;}
MC.$create_UpdateUserProfileRequest=function(authInfo,richUserMessage,richLinkType,richUrl,displayName){var $o={};$o.authInfo=authInfo;$o.richUserMessage=richUserMessage;$o.richLinkType=MC.ServiceDataHelper.convertToRawLinkType(richLinkType);$o.richUrl=richUrl;$o.displayName=displayName;return $o;}
MC.$create_UpdateUserProfileResponse=function(personalMessage,richUserMessage,richLinkType,richUrl){var $o={};$o.personalMessage=personalMessage;$o.richUserMessage=richUserMessage;$o.richLinkType=MC.ServiceDataHelper.parseRichLinkType(richLinkType);$o.richUrl=richUrl;return $o;}
MC.$create_UpdateUserSettingsRequest=function(version,clientVersion,authInfo,autoSignInEnabled,audioEnabled,firstRunExperienceViewed,lastStatus){var $o={};$o.version=version;$o.clientVersion=clientVersion;$o.authInfo=authInfo;$o.autoSignInEnabled=autoSignInEnabled;$o.audioEnabled=audioEnabled;$o.firstRunExperienceViewed=firstRunExperienceViewed;$o.lastStatus=lastStatus;return $o;}
MC.$create_UXSettingsInfo=function(autoSignInEnabled,audioEnabled,firstRunExperienceViewed,lastStatus){var $o={};$o.autoSignInEnabled=autoSignInEnabled;$o.audioEnabled=audioEnabled;$o.firstRunExperienceViewed=firstRunExperienceViewed;$o.displayNameOptions=0;$o.lastStatus=lastStatus;return $o;}
MC.$create_AddressBookConfigurationInfo=function(){var $o={};$o.maximumContactCount=0;$o.maximumAllowedCount=0;$o.maximumBlockedCount=0;$o.maximumGroupCount=0;$o.partnerId=String.Empty;$o.hostName=String.Empty;$o.applyPrivateInterface=false;return $o;}
MC.$create_ExpressionProfileConfigurationInfo=function(){var $o={};$o.hostName=String.Empty;$o.partnerId=String.Empty;$o.applyPrivateInterface=false;return $o;}
MC.$create_IdentityConfigurationInfo=function(){var $o={};$o.silentReauthDetectionUrl=String.Empty;$o.silentReauthUrl=String.Empty;$o.silentReauthUrlFormat=String.Empty;$o.storageAuthUrl=String.Empty;return $o;}
MC.$create_PresenceConfigurationInfo=function(){var $o={};$o.hostName=String.Empty;$o.networkIconUrl=String.Empty;return $o;}
MC.$create_ConfigurationInfo=function(){var $o={};$o.addressBook=MC.$create_AddressBookConfigurationInfo();$o.expressionProfile=MC.$create_ExpressionProfileConfigurationInfo();$o.presence=MC.$create_PresenceConfigurationInfo();$o.identity=MC.$create_IdentityConfigurationInfo();$o.emoticonUrl=String.Empty;$o.displayPictureUrl=String.Empty;$o.messageUrl=String.Empty;return $o;}
MC.$create_MessengerSessionInfo=function(server,sessionToken,transactionID,pendingEvents){var $o={};$o.server=server;$o.sessionToken=sessionToken;$o.transactionID=transactionID;$o.pendingEvents=pendingEvents;return $o;}
MC.$create_SignInCtlConfigurationInfo=function(){var $o={};$o.signUpUrl=String.Empty;$o.changeAccountUrl=String.Empty;$o.settingsUrl=String.Empty;$o.privacyUrl=String.Empty;$o.termsOfUseUrl=String.Empty;$o.reportAbuseUrl=String.Empty;$o.aboutMessengerUrl=String.Empty;return $o;}
MC.$create_MailNotificationActivityInfo=function(source,destination,delta){var $o={};$o.source=source;$o.destination=destination;$o.delta=delta;return $o;}
MC.$create_MailNotificationIncomingInfo=function(from,fromAddress,messageUrl,subject,folder,id){var $o={};$o.from=from;$o.fromAddress=fromAddress;$o.messageUrl=messageUrl;$o.subject=subject;$o.folder=folder;$o.id=id;return $o;}
MC.MailNotificationFolderType=function(){};MC.MailNotificationFolderType.prototype={inbox:0,trash:1,junkMail:2,sent:3,drafts:4,other:5,hidden:6}
MC.MailNotificationFolderType.registerEnum('MC.MailNotificationFolderType',false);MC.MailNotificationInfoType=function(){};MC.MailNotificationInfoType.prototype={initial:0,incoming:1,activity:2}
MC.MailNotificationInfoType.registerEnum('MC.MailNotificationInfoType',false);MC.$create_MailNotificationInfo=function(notification,type){var $o={};$o.notification=notification;$o.type=type;return $o;}
MC.$create_MailNotificationInitialInfo=function(inboxUnread,inboxTotal,foldersUnread,foldersTotal){var $o={};$o.inboxUnread=inboxUnread;$o.inboxTotal=inboxTotal;$o.foldersUnread=foldersUnread;$o.foldersTotal=foldersTotal;return $o;}
MC.$create_SignInControlStyleInfo=function(foreColor,backColor,borderColor,linkColor,buttonForeColor,buttonBackColor,buttonBorderColor){var $o={};$o.foreColor=foreColor;$o.backColor=backColor;$o.borderColor=borderColor;$o.linkColor=linkColor;$o.buttonForeColor=buttonForeColor;$o.buttonBackColor=buttonBackColor;$o.buttonBorderColor=buttonBorderColor;return $o;}
MC.AuthenticationFailedEventArgs=function(command){MC.AuthenticationFailedEventArgs.initializeBase(this);this.$1_0=command;}
MC.AuthenticationFailedEventArgs.prototype={$1_0:null,get_authenticatedCommand:function(){return this.$1_0;}}
MC.LocalStorageDataReadWriteEventArgs=function(revision,element,data){MC.LocalStorageDataReadWriteEventArgs.initializeBase(this);this.$1_2=data;this.$1_1=element;this.$1_0=revision;}
MC.LocalStorageDataReadWriteEventArgs.prototype={$1_0:0,$1_1:0,$1_2:null,get_revision:function(){return this.$1_0;},get_element:function(){return this.$1_1;},get_data:function(){return this.$1_2;}}
MC.InstancesChangedEventArgs=function(instances){MC.InstancesChangedEventArgs.initializeBase(this);this.$1_0=instances;}
MC.InstancesChangedEventArgs.prototype={$1_0:null,get_instances:function(){return this.$1_0;}}
MC.Compatibility=function(){}
MC.Compatibility.get_version=function(){return MC.Compatibility.$0;}
MC.Compatibility.set_version=function(value){MC.Compatibility.$0=value;return value;}
MC.Compatibility.get_microsoftAjaxPropertyNamesEnabled=function(){switch(MC.Compatibility.get_version()){case 3:case 4:case 5:case 1:return false;default:return Microsoft.Live.Core.Loader.get_settings().compatibility.microsoftAjaxPropertyNames;}}
MC.Compatibility.get_displayNameOptions=function(){switch(MC.Compatibility.get_version()){case 3:case 4:case 5:case 1:case 2:return 0;default:return 1;}}
MC.Compatibility.get_useLegacyPersonalMessage=function(){switch(MC.Compatibility.get_version()){case 3:case 4:case 5:case 1:return true;default:return false;}}
MC.Compatibility.get_maxPersonalMessageLength=function(){switch(MC.Compatibility.get_version()){case 3:case 4:case 5:case 1:return 129;default:return 512;}}
MC.Compatibility.get_networkOperationType=function(){switch(MC.Compatibility.get_version()){case 3:case 4:case 5:case 1:case 2:return 0;default:return 1;}}
MC.Compatibility.get_autoReconnectEnabled=function(){switch(MC.Compatibility.get_version()){case 3:case 4:case 5:case 1:case 2:return false;default:return true;}}
MC.Compatibility.get_sharingControlBarEnabled=function(){switch(MC.Compatibility.get_version()){case 3:case 4:case 5:case 1:return false;default:return true;}}
MC.Compatibility.get_defaultPresenceStatusControlToImage=function(){switch(MC.Compatibility.get_version()){case 3:case 4:case 5:return false;default:return true;}}
MC.Compatibility.get_enforceApplicationMessageIDRegistration=function(){switch(MC.Compatibility.get_version()){case 3:case 4:case 5:case 1:return true;default:return false;}}
MC.Compatibility.get_provideLegacyContactInfo=function(){switch(MC.Compatibility.get_version()){case 1:case 2:return true;default:return false;}}
MC.Compatibility.get_useLastKnownUserStatus=function(){switch(MC.Compatibility.get_version()){case 3:case 4:case 5:case 1:return false;default:return true;}}
MC.LogContext=function(context){this.$1=context||String.Empty;}
MC.LogContext.get_global=function(){return MC.LogContext.$0;}
MC.LogContext.prototype={$1:null,get_context:function(){return this.$1;}}
MC.DatagramInfo=function(datagramType,payload,sender,receiver){this.datagramType=datagramType;this.payload=payload;this.sender=sender;this.receiver=receiver;}
MC.DatagramInfo.createDatagramMessage=function(type,payload){var $0=new MC.DatagramInfo(type,payload,null,null);return $0;}
MC.DatagramInfo.prototype={datagramType:0,payload:null,receiver:null,sender:null}
MC.HtmlElementStyle=function(display){this.$0=display;}
MC.HtmlElementStyle.prototype={$0:null,get_display:function(){return this.$0;}}
MC.CMServiceData=function(info){MC.CMServiceData.initializeBase(this,[info]);}
MC.CMServiceData.prototype={update:function(info){return this.$3(info,false);},Delete:function(info){return this.$3(info,true);},$3:function($p0,$p1){var $0=($p1)?MC.CMServiceData.callBaseMethod(this,'Delete',[$p0]):MC.CMServiceData.callBaseMethod(this,'update',[$p0]);return $0;}}
MC.CMServiceEndpointData=function(info){MC.CMServiceEndpointData.initializeBase(this,[info]);}
MC.CMServiceEndpointData.prototype={$1:function($p0,$p1){MC.CMServiceEndpointData.callBaseMethod(this,'$1',[$p0,$p1]);}}
MC.IMServiceData=function(info){MC.IMServiceData.initializeBase(this,[info]);}
MC.IMServiceData.prototype={get_isOnline:function(){switch(this.get_status()){case 0:case 1:case 3:return false;default:return true;}},get_status:function(){return MC.ServiceDataHelper.parseStatus(this.get_item('Status'));},set_status:function(value){this.set_item('Status',MC.ServiceDataHelper.formatStatus(value));return value;},get_currentMedia:function(){return this.get_item('CurrentMedia');},set_currentMedia:function(value){this.set_item('CurrentMedia',value);return value;},get_isOnlineViaMobileDevice:function(){return this.$4(0,1);},get_isOnlineViaWeb:function(){return this.$4(0,512);},get_supportsApplicationMessages:function(){return this.$5(1,8);},get_supportsNudges:function(){return this.$5(1,1024);},get_supportsMultipartyConversations:function(){return this.$5(1,2147483648);},get_version:function(){var $0=4026531840;var $dict1=this.endpointData;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=($1.value).get_version();if($2<$0){$0=$2;}}return($0===4026531840)?0:$0;},getEndpointData:function(endpoint){return(Object.keyExists(this.get_$0(),endpoint))?this.get_$0()[endpoint]:null;},update:function(info){return this.$3(info,false);},Delete:function(info){return this.$3(info,true);},mapPropertyKey:function(key){switch(key){case'NOO':return'NetworkIconUrl';}return MC.IMServiceData.callBaseMethod(this,'mapPropertyKey',[key]);},$3:function($p0,$p1){var $0=this.get_isOnline();var $1=this.get_isOnlineViaMobileDevice();var $2=this.get_isOnlineViaWeb();var $3=this.get_supportsApplicationMessages();var $4=this.get_supportsNudges();var $5=this.get_supportsMultipartyConversations();var $6=this.get_version();var $7=($p1)?MC.IMServiceData.callBaseMethod(this,'Delete',[$p0]):MC.IMServiceData.callBaseMethod(this,'update',[$p0]);if($p1&&Object.getKeyCount(this.endpointData)===0&&this.get_status()!==1){this.set_status(1);$7.updatedProperties.add('Status');}if((Object.getKeyCount($7.deletedEndpoints)>0)||(Object.getKeyCount($7.newEndpoints)>0)||(Object.getKeyCount($7.updatedEndpoints)>0)){if(this.get_isOnlineViaMobileDevice()!==$1){$7.updatedProperties.add('IsOnlineViaMobileDevice');}if(this.get_isOnlineViaWeb()!==$2){$7.updatedProperties.add('IsOnlineViaWeb');}if(this.get_supportsApplicationMessages()!==$3){$7.updatedProperties.add('SupportsApplicationMessages');}if(this.get_supportsNudges()!==$4){$7.updatedProperties.add('SupportsNudges');}if(this.get_supportsMultipartyConversations()!==$5){$7.updatedProperties.add('SupportsMultipartyConversations');}if(this.get_version()!==$6){$7.updatedProperties.add('Version');}}if($7.updatedProperties.contains('Status')){if($0!==this.get_isOnline()){$7.updatedProperties.add('IsOnline');}}return $7;},$4:function($p0,$p1){if(Object.getKeyCount(this.endpointData)===0){return false;}var $dict1=this.get_$0();for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=($0.value).get_capabilities();if(($1==null)||($1.length<=$p0)||(($1[$p0]&$p1)===0)){return false;}}return true;},$5:function($p0,$p1){var $dict1=this.get_$0();for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=($0.value).get_capabilities();if(($1!=null)&&($1.length>$p0)&&(($1[$p0]&$p1)!==0)){return true;}}return false;}}
MC.IMServiceEndpointData=function(info){MC.IMServiceEndpointData.initializeBase(this,[info]);}
MC.IMServiceEndpointData.prototype={get_applicationDisplayName:function(){return this.get_item('AppDisplayName');},set_applicationDisplayName:function(value){this.set_item('AppDisplayName',value);return value;},get_applicationDisplayPictureUrl:function(){return this.get_item('AppDisplayPicUrl');},set_applicationDisplayPictureUrl:function(value){this.set_item('AppDisplayPicUrl',value);return value;},get_applicationId:function(){return this.get_item('AppId');},set_applicationId:function(value){this.set_item('AppId',value);return value;},get_applicationName:function(){return this.get_item('AppName');},set_applicationName:function(value){this.set_item('AppName',value);return value;},get_applicationPersonalMessage:function(){return this.get_item('AppPersonalMessage');},set_applicationPersonalMessage:function(value){this.set_item('AppPersonalMessage',value);return value;},get_capabilities:function(){return MC.ServiceDataHelper.parseCapabilities(this.get_item('Capabilities'));},set_capabilities:function(value){this.set_item('Capabilities',MC.ServiceDataHelper.formatCapabilities(value));return value;},get_domain:function(){return this.get_item('DMN');},set_domain:function(value){this.set_item('DMN',value);var $0=this.$3('WebAppData');if($0!=null){($0).domain=value;}return value;},get_isOnlineViaMobileDevice:function(){return MC.ServiceDataHelper.isSet(0,1,this.get_capabilities());},get_isOnlineViaWeb:function(){return MC.ServiceDataHelper.isSet(0,512,this.get_capabilities());},get_supportsApplicationMessages:function(){return MC.ServiceDataHelper.isSet(1,8,this.get_capabilities());},get_supportsNudges:function(){return MC.ServiceDataHelper.isSet(1,1024,this.get_capabilities());},get_supportsMultipartyConversations:function(){return MC.ServiceDataHelper.isSet(1,2147483648,this.get_capabilities());},get_version:function(){var $0=this.get_capabilities();if(($0!=null)&&($0.length>=1)){return 4026531840&$0[0];}return 0;},get_messageExtensions:function(){var $0=this.$3('WebAppData');return($0!=null)?($0).messageIds:new Array(0);},set_messageExtensions:function(value){var $0=this.$3('WebAppData');if($0==null){$0=MC.$create_ApplicationDataInfo(this.get_domain(),new Array(0),new Array(0));this.$4('WebAppData',$0);}($0).messageIds=value;return value;},get_presenceExtensions:function(){var $0=this.$3('WebAppData');return($0!=null)?($0).properties:new Array(0);},set_presenceExtensions:function(value){var $0=this.$3('WebAppData');if($0==null){$0=MC.$create_ApplicationDataInfo(this.get_domain(),new Array(0),new Array(0));this.$4('WebAppData',$0);}($0).properties=value;return value;},$1:function($p0,$p1){var $0=this.get_isOnlineViaMobileDevice();var $1=this.get_isOnlineViaWeb();var $2=this.get_supportsApplicationMessages();var $3=this.get_supportsNudges();var $4=this.get_supportsMultipartyConversations();var $5=this.get_version();MC.IMServiceEndpointData.callBaseMethod(this,'$1',[$p0,$p1]);if(Object.keyExists($p1.updatedEndpoints,this.get_$0().endpointId)){var $6=$p1.updatedEndpoints[this.get_$0().endpointId];if($6.contains('Capabilities')){if($0!==this.get_isOnlineViaMobileDevice()){$6.add('IsOnlineViaMobileDevice');}if($1!==this.get_isOnlineViaWeb()){$6.add('IsOnlineViaWeb');}if($2!==this.get_supportsApplicationMessages()){$6.add('SupportsApplicationMessages');}if($3!==this.get_supportsNudges()){$6.add('SupportsNudges');}if($4!==this.get_supportsMultipartyConversations()){$6.add('SupportsMultipartyConversations');}if($5!==this.get_version()){$6.add('Version');}}if($6.contains('WebAppData')){$6.add('MessageExtensions');$6.add('PresenceExtensions');}}},propertyEquals:function(name,value){if(name==='WebAppData'){return this.info.properties[name]===value;}return MC.IMServiceEndpointData.callBaseMethod(this,'propertyEquals',[name,value]);},propertyIsNullOrEmpty:function(name){if(name==='WebAppData'){return this.info.properties[name]==null;}return MC.IMServiceEndpointData.callBaseMethod(this,'propertyIsNullOrEmpty',[name]);},mapPropertyKey:function(key){switch(key){case'AppDisplayName':return'ApplicationDisplayName';case'AppDisplayPicUrl':return'ApplicationDisplayPictureUrl';case'AppId':return'ApplicationId';case'AppName':return'ApplicationName';case'AppPersonalMessage':return'ApplicationPersonalMessage';case'DMN':return'Domain';}return MC.IMServiceEndpointData.callBaseMethod(this,'mapPropertyKey',[key]);},$3:function($p0){if(Object.keyExists(this.info.properties,$p0)){return this.info.properties[$p0];}return null;},$4:function($p0,$p1){this.info.properties[$p0]=$p1;}}
MC.PDServiceData=function(info){MC.PDServiceData.initializeBase(this,[info]);}
MC.PDServiceData.prototype={getEndpointData:function(endpoint){return(Object.keyExists(this.get_$0(),endpoint))?this.get_$0()[endpoint]:null;}}
MC.PDServiceEndpointData=function(info){MC.PDServiceEndpointData.initializeBase(this,[info]);}
MC.PDServiceEndpointData.prototype={get_name:function(){return this.get_item('EpName');},set_name:function(value){this.set_item('EpName',value);return value;},get_clientType:function(){var $0=this.get_item('ClientType');if(String.isNullOrEmpty($0)){return 0;}var $1=MC.ServiceDataHelper.$2($0);if($1<0){return 0;}else{return $1;}},set_clientType:function(value){this.set_item('ClientType',(value).toString());return value;},mapPropertyKey:function(key){switch(key){case'EpName':return'Name';}return MC.PDServiceEndpointData.callBaseMethod(this,'mapPropertyKey',[key]);}}
MC.PEServiceData=function(info){MC.PEServiceData.initializeBase(this,[info]);}
MC.PEServiceData.prototype={get_personalMessage:function(){return this.get_item('PSM');},set_personalMessage:function(value){this.set_item('PSM',value);return value;},get_displayName:function(){var $0=this.get_item('FriendlyName');if(($0!=null)&&$0.endsWith('(E-mail Address Not Verified)')){var $1=$0.length-'(E-mail Address Not Verified)'.length;return MC.ServiceDataHelper.$3($0,0,$1).trimEnd();}return $0;},set_displayName:function(value){this.set_item('FriendlyName',value);return value;},get_userTileLocation:function(){return this.get_item('UserTileLocation');},set_userTileLocation:function(value){this.set_item('UserTileLocation',value);return value;},get_isIdentityVerified:function(){var $0=this.get_item('FriendlyName');return($0!=null)&&!$0.endsWith('(E-mail Address Not Verified)');},get_displayPictureUrl:function(){return this.get_item('DisplayPictureUrl');},set_displayPictureUrl:function(value){this.set_item('DisplayPictureUrl',value);return value;},get_richUserMessage:function(){return this.get_item('RUM');},set_richUserMessage:function(value){this.set_item('RUM',value);if(this.get_richLinkType()===0){this.set_richLinkType(1);}return value;},get_richUrl:function(){return this.get_item('RUL');},set_richUrl:function(value){this.set_item('RUL',value);return value;},get_richLinkType:function(){return MC.ServiceDataHelper.parseRichLinkType(this.get_item('RLT'));},set_richLinkType:function(value){this.set_item('RLT',MC.ServiceDataHelper.convertToRawLinkType(value));return value;},get_safeUrl:function(){return this.get_item('SUL');},set_safeUrl:function(value){this.set_item('SUL',value);return value;},getEndpointData:function(endpoint){return(Object.keyExists(this.get_$0(),endpoint))?this.get_$0()[endpoint]:null;},update:function(info){var $0=this.get_isIdentityVerified();var $1=MC.PEServiceData.callBaseMethod(this,'update',[info]);if($1.updatedProperties.contains('DisplayName')){if($0!==this.get_isIdentityVerified()){$1.updatedProperties.add('IsIdentityVerified');}}return $1;},mapPropertyKey:function(key){switch(key){case'FriendlyName':return'DisplayName';case'PSM':return'PersonalMessage';case'RUM':return'RichUserMessage';case'RUL':return'RichUrl';case'SUL':return'SafeUrl';case'RLT':return'RichLinkType';}return MC.PEServiceData.callBaseMethod(this,'mapPropertyKey',[key]);}}
MC.PEServiceEndpointData=function(info){MC.PEServiceEndpointData.initializeBase(this,[info]);}
MC.PEServiceEndpointData.prototype={get_capabilities:function(){return MC.ServiceDataHelper.parseCapabilities(this.get_item('Capabilities'));},set_capabilities:function(value){this.set_item('Capabilities',MC.ServiceDataHelper.formatCapabilities(value));return value;},get_client:function(){return this.get_item('VER');},set_client:function(value){this.set_item('VER',value);return value;},get_clientName:function(){var $0=this.get_client();return(!this.$3($0))?String.Empty:$0.split(':')[0];},set_clientName:function(value){var $0=this.get_client();if(!this.$3($0)){this.set_client(String.format('{0}:',value));}else{this.set_client(String.format('{0}:{1}',value,$0.split(':')[1]));}return value;},get_clientType:function(){var $0=this.get_item('TYP');if(String.isNullOrEmpty($0)){return 0;}var $1=MC.ServiceDataHelper.$2($0);if($1<0){return 0;}else{return $1;}},set_clientType:function(value){this.set_item('TYP',(value).toString());return value;},get_clientVersion:function(){var $0=this.get_client();if(!this.$3($0)){return String.Empty;}else{return $0.split(':')[1];}},set_clientVersion:function(value){var $0=this.get_client();if(!this.$3($0)){this.set_client(String.format(':{0}',value));}else{this.set_client(String.format('{0}:{1}',$0.split(':')[0],value));}return value;},$1:function($p0,$p1){var $0=this.get_clientName();var $1=this.get_clientVersion();MC.PEServiceEndpointData.callBaseMethod(this,'$1',[$p0,$p1]);if(Object.keyExists($p1.updatedEndpoints,this.get_$0().endpointId)){var $2=$p1.updatedEndpoints[this.get_$0().endpointId];if($2.contains('Client')){if($0!==this.get_clientName()){$2.add('ClientName');}if($1!==this.get_clientVersion()){$2.add('ClientVersion');}}}},mapPropertyKey:function(key){switch(key){case'VER':return'Client';case'TYP':return'ClientType';}return MC.PEServiceEndpointData.callBaseMethod(this,'mapPropertyKey',[key]);},$3:function($p0){return!String.isNullOrEmpty($p0)&&($p0.split(':').length===2);}}
MC.ServiceData=function(info){this.info=info;this.endpointData={};var $dict1=info.endpointData;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};this.endpointData[$0.key]=MC.ServiceEndpointData.create($0.value);}}
MC.ServiceData.create=function(info){switch(info.service){case 1:return new MC.PEServiceData(info);case 2:return new MC.IMServiceData(info);case 4:return new MC.PDServiceData(info);case 8:return new MC.CMServiceData(info);default:return null;}}
MC.ServiceData.createEmpty=function(serviceType){var $0=MC.$create_ServiceDataInfo(serviceType,{},{});return MC.ServiceData.create($0);}
MC.ServiceData.prototype={info:null,endpointData:null,get_service:function(){return this.info.service;},get_properties:function(){return this.info.properties;},get_info:function(){return this.info;},get_$0:function(){return this.endpointData;},addEndpoint:function(endpoint){this.endpointData[endpoint.get_endpointId()]=endpoint;this.info.endpointData[endpoint.get_endpointId()]=endpoint.get_$0();},addEndpointFromInfo:function(endpoint){this.endpointData[endpoint.endpointId]=MC.ServiceEndpointData.create(endpoint);this.info.endpointData[endpoint.endpointId]=endpoint;},getAllEndpoints:function(){var $0=[];var $dict1=this.endpointData;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0.add($1.value);}return MC.ServiceDataHelper.toArray($0);},getEndpoint:function(endpointId){if(Object.keyExists(this.endpointData,endpointId)){return this.endpointData[endpointId];}return null;},deleteEndpoint:function(endpointId){delete this.endpointData[endpointId];delete this.info.endpointData[endpointId];},clone:function(){var $0=MC.$create_ServiceDataInfo(this.info.service,{},{});var $dict1=this.info.properties;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0.properties[$1.key]=$1.value;}var $dict3=this.endpointData;for(var $key4 in $dict3){var $2={key:$key4,value:$dict3[$key4]};$0.endpointData[$2.key]=($2.value).clone();}return $0;},update:function(info){var $0=new MC.ServiceDataDiff(this.info.service);var $dict1=info.properties;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=$1.key;if(this.$1($2,$1.value)){$0.updatedProperties.add(this.mapPropertyKey($2));$0.updatedRawProperties.add($2);}}var $dict3=info.endpointData;for(var $key4 in $dict3){var $3={key:$key4,value:$dict3[$key4]};var $4=$3.key;if(!Object.keyExists(this.get_$0(),$4)){var $5=$3.value;var $6=MC.ServiceEndpointData.createEmpty($5.service,$4);this.addEndpoint($6);$0.newEndpoints[$4]=$6;if(Object.getKeyCount($5.properties)===0){$0.updatedEndpoints[$4]=[];}else{$6.$1($5,$0);}}else{var $7=this.get_$0()[$4];$7.$1($3.value,$0);}}return $0;},Delete:function(info){var $0=new MC.ServiceDataDiff(this.info.service);var $dict1=info.endpointData;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=$1.key;if(Object.keyExists(this.get_$0(),$2)){var $3=this.get_$0()[$2];this.deleteEndpoint($3.get_endpointId());var $4=[];var $dict3=$3.get_properties();for(var $key4 in $dict3){var $5={key:$key4,value:$dict3[$key4]};$4.add($5.key);}$0.deletedEndpoints[$2]=$3;$0.updatedEndpoints[$2]=$4;}}return $0;},createDiff:function(newService){var $0=MC.$create_ServiceDataInfo(this.info.service,this.$2(newService.info.properties),{});var $enum1=ss.IEnumerator.getEnumerator(newService.getAllEndpoints());while($enum1.moveNext()){var $1=$enum1.get_current();if(!Object.keyExists(this.get_$0(),$1.get_$0().endpointId)){$0.endpointData[$1.get_$0().endpointId]=$1.clone();}else{var $2=(this.endpointData[$1.get_$0().endpointId]).creatDiff($1);if(Object.getKeyCount($2.properties)>0){$0.endpointData[$1.get_$0().endpointId]=$2;}}}return $0;},mapPropertyKey:function(key){return key;},propertyEquals:function(name,value){return this.info.properties[name]===value;},$1:function($p0,$p1){if($p1==null){if(Object.keyExists(this.info.properties,$p0)){var $0=this.get_item($p0)!==String.Empty;delete this.info.properties[$p0];return $0;}}else if(!Object.keyExists(this.info.properties,$p0)||!this.propertyEquals($p0,$p1)){this.info.properties[$p0]=$p1;return true;}return false;},$2:function($p0){var $0={};var $dict1=$p0;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};if(!Object.keyExists(this.info.properties,$1.key)||!this.propertyEquals($1.key,$1.value)){$0[$1.key]=$1.value;}}var $dict3=this.info.properties;for(var $key4 in $dict3){var $2={key:$key4,value:$dict3[$key4]};var $3=$2.key;if(!Object.keyExists($p0,$3)){if(MC.ServiceDataHelper.shouldPublishProperty($3,true,this.info.service)){$0[$3]=null;}}}return $0;},get_item:function(propName){if(Object.keyExists(this.info.properties,propName)){return this.info.properties[propName];}else{return String.Empty;}},set_item:function(propName,value){this.info.properties[propName]=value;return value;}}
MC.ServiceDataDiff=function(service){this.service=service;this.updatedEndpoints={};this.updatedProperties=[];this.updatedRawProperties=[];this.deletedEndpoints={};this.newEndpoints={};}
MC.ServiceDataDiff.prototype={service:0,updatedProperties:null,updatedRawProperties:null,updatedEndpoints:null,newEndpoints:null,deletedEndpoints:null}
MC.ServiceDataHelper=function(){}
MC.ServiceDataHelper.shouldPublishProperty=function(propertyName,global,service){switch(service){case 2:if(global&&(propertyName==='NOO')){return false;}break;case 1:if(global&&(propertyName==='DisplayPictureUrl')){return false;}break;case 8:return false;}return true;}
MC.ServiceDataHelper.parseServiceName=function(serviceName){switch(serviceName){case'IM':return 2;case'PE':return 1;case'PD':return 4;case'CM':return 8;default:return 0;}}
MC.ServiceDataHelper.formatServiceType=function(service){switch(service){case 2:return'IM';case 1:return'PE';case 4:return'PD';case 8:return'CM';default:return String.Empty;}}
MC.ServiceDataHelper.parseStatus=function(status){if(String.isNullOrEmpty(status)){return 0;}switch(status){case'NLN':return 2;case'HDN':return 3;case'BSY':return 4;case'IDL':return 5;case'FLN':return 1;case'BRB':return 6;case'AWY':return 7;case'PHN':return 8;case'LUN':return 9;default:return 0;}}
MC.ServiceDataHelper.formatStatus=function(status){switch(status){case 2:return'NLN';case 3:return'HDN';case 4:return'BSY';case 5:return'IDL';case 1:return'FLN';case 6:return'BRB';case 7:return'AWY';case 8:return'PHN';case 9:return'LUN';case 0:default:return'';}}
MC.ServiceDataHelper.parseCapabilities=function(capabilities){if(String.isNullOrEmpty(capabilities)){return[0];}var $0=capabilities.split(':');var $1=new Array($0.length);for(var $2=0;$2<$1.length;$2++){var $3=MC.ServiceDataHelper.$1($0[$2]);if($3<0){$1[$2]=0;}else{$1[$2]=$3;}}return $1;}
MC.ServiceDataHelper.formatCapabilities=function(capabilities){if(capabilities.length===0){return'0';}var $0=new Array(capabilities.length);for(var $1=0;$1<$0.length;$1++){$0[$1]=MC.ServiceDataHelper.$0(capabilities[$1]);}return $0.join(':');}
MC.ServiceDataHelper.isSet=function(flag,flags,capabilities){if((capabilities!=null)&&(capabilities.length>flag)){return((capabilities[flag]&flags)!==0);}return false;}
MC.ServiceDataHelper.parseRichLinkType=function(richLinkType){switch(richLinkType){case'0':return 1;case'1':return 2;case'2':return 3;case'3':return 4;case'4':return 5;case'5':return 6;case'6':return 7;case'7':return 8;default:return 0;}}
MC.ServiceDataHelper.convertToRawLinkType=function(type){switch(type){case 1:return'0';case 2:return'1';case 3:return'2';case 4:return'3';case 5:return'4';case 6:return'5';case 7:return'6';case 8:return'7';case 0:default:return String.Empty;}}
MC.ServiceDataHelper.$0=function($p0){var $0=$p0;if($0<0){$0+=4294967296;}return $0.toString();}
MC.ServiceDataHelper.$1=function($p0){var $0=parseInt($p0,10);if(isNaN($0)){return-1;}return $0;}
MC.ServiceDataHelper.$2=function($p0){var $0=parseInt($p0,10);if(isNaN($0)){return-1;}return $0;}
MC.ServiceDataHelper.$3=function($p0,$p1,$p2){return $p0.substr($p1,$p2);}
MC.ServiceDataHelper.toArray=function(list){return list;}
MC.ServiceDataHelper.getDefaultOfflineEndpointData=function(serviceType){var $0={};switch(serviceType){case 8:$0['events']='<events />';break;}return $0;}
MC.ServiceDataSet=function(serviceData){for(var $0=0;$0<serviceData.length;$0++){var $1=serviceData[$0].service;switch($1){case 2:this.imServiceData=MC.ServiceData.create(serviceData[$0]);break;case 4:this.pdServiceData=MC.ServiceData.create(serviceData[$0]);break;case 1:this.peServiceData=MC.ServiceData.create(serviceData[$0]);break;case 8:this.cmServiceData=MC.ServiceData.create(serviceData[$0]);break;}}}
MC.ServiceDataSet.create=function(){return new MC.ServiceDataSet([MC.$create_ServiceDataInfo(2,{},{}),MC.$create_ServiceDataInfo(1,{},{}),MC.$create_ServiceDataInfo(4,{},{}),MC.$create_ServiceDataInfo(8,{},{})]);}
MC.ServiceDataSet.createMessengerUpdate=function(baseSet,update){var $0=[];var $1=new MC.ServiceDataSet(update);var $enum1=ss.IEnumerator.getEnumerator(baseSet.toServiceDataArray());while($enum1.moveNext()){var $3=$enum1.get_current();if($1.getServiceData($3.get_service())!=null){$0.add($3.clone());}}var $enum2=ss.IEnumerator.getEnumerator(update);while($enum2.moveNext()){var $4=$enum2.get_current();if(baseSet.getServiceData($4.service)==null){$0.add($4);}}var $2=new MC.ServiceDataSet(MC.ServiceDataHelper.toArray($0));$2.updateAll(update);return $2;}
MC.ServiceDataSet.createFromPresenceInfo=function(presence){var $0=MC.ServiceDataSet.create();if(presence.displayName!=null){$0.peServiceData.set_displayName(presence.displayName);}if(presence.personalMessage!=null){$0.peServiceData.set_personalMessage(presence.personalMessage);}if(presence.displayPictureUrl!=null){$0.peServiceData.set_displayPictureUrl(presence.displayPictureUrl);}if(presence.status!==0){$0.imServiceData.set_status(presence.status);}return $0;}
MC.ServiceDataSet.prototype={imServiceData:null,pdServiceData:null,peServiceData:null,cmServiceData:null,clone:function(){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(this.toServiceDataArray());while($enum1.moveNext()){var $1=$enum1.get_current();$0.add($1.clone());}return new MC.ServiceDataSet(MC.ServiceDataHelper.toArray($0));},addEndpoint:function(endpoint){var $0=this.getServiceData(endpoint.get_service());if($0!=null){$0.addEndpoint(endpoint);}},getEndpointSet:function(endpointId){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(this.toServiceDataArray());while($enum1.moveNext()){var $1=$enum1.get_current();if(!Object.keyExists($1.get_$0(),endpointId)){$0.add(MC.$create_ServiceEndpointDataInfo(endpointId,$1.get_service(),{}));}else{$0.add(($1.get_$0()[endpointId]).get_$0());}}return new MC.ServiceEndpointDataSet(endpointId,MC.ServiceDataHelper.toArray($0));},createDiff:function(newData){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(newData.toServiceDataArray());while($enum1.moveNext()){var $1=$enum1.get_current();var $2=this.getServiceData($1.get_service());if($2==null){$0.add($1.clone());}else{var $3=$2.createDiff($1);if(Object.getKeyCount($3.properties)>0||Object.getKeyCount($3.endpointData)>0){$0.add($3);}}}return MC.ServiceDataHelper.toArray($0);},toArray:function(){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(this.toServiceDataArray());while($enum1.moveNext()){var $1=$enum1.get_current();$0.add($1.get_info());}return MC.ServiceDataHelper.toArray($0);},toServiceDataArray:function(){var $0=[];if(this.imServiceData!=null){$0.add(this.imServiceData);}if(this.peServiceData!=null){$0.add(this.peServiceData);}if(this.pdServiceData!=null){$0.add(this.pdServiceData);}if(this.cmServiceData!=null){$0.add(this.cmServiceData);}return MC.ServiceDataHelper.toArray($0);},update:function(serviceData){var $0=this.getServiceData(serviceData.service);if($0!=null){return $0.update(serviceData);}return new MC.ServiceDataDiff(serviceData.service);},Delete:function(serviceData){var $0=this.getServiceData(serviceData.service);if($0!=null){return $0.Delete(serviceData);}return new MC.ServiceDataDiff(serviceData.service);},updateAll:function(update){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(update);while($enum1.moveNext()){var $1=$enum1.get_current();$0.add(this.update($1));}return MC.ServiceDataHelper.toArray($0);},deleteAll:function(update){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(update);while($enum1.moveNext()){var $1=$enum1.get_current();$0.add(this.Delete($1));}return MC.ServiceDataHelper.toArray($0);},getServiceData:function(service){switch(service){case 2:return this.imServiceData;case 4:return this.pdServiceData;case 1:return this.peServiceData;case 8:return this.cmServiceData;}return null;},getEndpointServiceData:function(service,id){var $0=this.getServiceData(service);if($0!=null){if(Object.keyExists($0.get_$0(),id)){return $0.get_$0()[id];}}return null;},toPresenceInfo:function(){var $0=MC.$create_PresenceInfo(this.imServiceData.get_status(),null,null,null,null,null);if(Object.keyExists(this.peServiceData.get_properties(),'FriendlyName')){$0.displayName=this.peServiceData.get_displayName();}if(Object.keyExists(this.peServiceData.get_properties(),'PSM')){$0.personalMessage=this.peServiceData.get_personalMessage();}if(Object.keyExists(this.peServiceData.get_properties(),'DisplayPictureUrl')){$0.displayPictureUrl=this.peServiceData.get_displayPictureUrl();}return $0;}}
MC.ServiceEndpointData=function(info){this.info=info;}
MC.ServiceEndpointData.create=function(info){switch(info.service){case 1:return new MC.PEServiceEndpointData(info);case 2:return new MC.IMServiceEndpointData(info);case 4:return new MC.PDServiceEndpointData(info);case 8:return new MC.CMServiceEndpointData(info);default:return null;}}
MC.ServiceEndpointData.createEmpty=function(serviceType,endpointId){return MC.ServiceEndpointData.create(MC.$create_ServiceEndpointDataInfo(endpointId,serviceType,{}));}
MC.ServiceEndpointData.prototype={info:null,get_properties:function(){return this.info.properties;},get_service:function(){return this.info.service;},get_endpointId:function(){return this.info.endpointId;},get_$0:function(){return this.info;},clone:function(){var $0=MC.$create_ServiceEndpointDataInfo(this.info.endpointId,this.info.service,{});var $dict1=this.info.properties;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0.properties[$1.key]=$1.value;}return $0;},creatDiff:function(newEndpoint){return MC.$create_ServiceEndpointDataInfo(this.info.endpointId,this.info.service,this.$2(newEndpoint.info.properties));},$1:function($p0,$p1){var $0=[];var $dict1=$p0.properties;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=$1.key;if(this.updateProperty($2,$1.value)){$0.add(this.mapPropertyKey($2));}}if($0.length>0){$p1.updatedEndpoints[this.get_$0().endpointId]=$0;}},mapPropertyKey:function(key){return key;},propertyEquals:function(name,value){return this.info.properties[name]===value;},propertyIsNullOrEmpty:function(name){return String.isNullOrEmpty(this.info.properties[name]);},updateProperty:function(name,value){if(value==null){if(Object.keyExists(this.info.properties,name)){var $0=!this.propertyIsNullOrEmpty(name);delete this.info.properties[name];return $0;}}else if(!Object.keyExists(this.info.properties,name)||!this.propertyEquals(name,value)){this.info.properties[name]=value;return true;}return false;},$2:function($p0){var $0={};var $dict1=$p0;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};if(!Object.keyExists(this.info.properties,$1.key)||!this.propertyEquals($1.key,$1.value)){$0[$1.key]=$1.value;}}var $dict3=this.info.properties;for(var $key4 in $dict3){var $2={key:$key4,value:$dict3[$key4]};var $3=$2.key;if(!Object.keyExists($p0,$3)){if(MC.ServiceDataHelper.shouldPublishProperty($3,false,this.info.service)){$0[$3]=null;}}}return $0;},get_item:function(propName){if(Object.keyExists(this.info.properties,propName)){return this.info.properties[propName];}else{return String.Empty;}},set_item:function(propName,value){this.info.properties[propName]=value;return value;}}
MC.ServiceEndpointDataSet=function(endpointId,serviceData){this.id=endpointId;for(var $0=0;$0<serviceData.length;$0++){switch(serviceData[$0].service){case 2:this.imEndpointData=MC.ServiceEndpointData.create(serviceData[$0]);break;case 4:this.pdEndpointData=MC.ServiceEndpointData.create(serviceData[$0]);break;case 1:this.peEndpointData=MC.ServiceEndpointData.create(serviceData[$0]);break;case 8:this.cmEndpointData=MC.ServiceEndpointData.create(serviceData[$0]);break;}}}
MC.ServiceEndpointDataSet.create=function(endpointId){return new MC.ServiceEndpointDataSet(endpointId,[MC.$create_ServiceEndpointDataInfo(endpointId,2,{}),MC.$create_ServiceEndpointDataInfo(endpointId,1,{}),MC.$create_ServiceEndpointDataInfo(endpointId,4,{})]);}
MC.ServiceEndpointDataSet.prototype={imEndpointData:null,pdEndpointData:null,peEndpointData:null,cmEndpointData:null,id:null,toArray:function(){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(this.toServiceDataArray());while($enum1.moveNext()){var $1=$enum1.get_current();$0.add($1.get_$0());}return MC.ServiceDataHelper.toArray($0);},toServiceDataArray:function(){var $0=[];if(this.imEndpointData!=null){$0.add(this.imEndpointData);}if(this.peEndpointData!=null){$0.add(this.peEndpointData);}if(this.pdEndpointData!=null){$0.add(this.pdEndpointData);}return MC.ServiceDataHelper.toArray($0);}}
MC.ChannelEndpoint.registerClass('MC.ChannelEndpoint',null,MLC.IChannel,ss.IDisposable);MC.ChannelEndpointMultiplexer.registerClass('MC.ChannelEndpointMultiplexer',null,ss.IDisposable);MC.ChannelEndpointEventArgs.registerClass('MC.ChannelEndpointEventArgs',ss.EventArgs);MC.AuthenticationFailedEventArgs.registerClass('MC.AuthenticationFailedEventArgs',ss.EventArgs);MC.LocalStorageDataReadWriteEventArgs.registerClass('MC.LocalStorageDataReadWriteEventArgs',ss.EventArgs);MC.InstancesChangedEventArgs.registerClass('MC.InstancesChangedEventArgs',ss.EventArgs);MC.Compatibility.registerClass('MC.Compatibility');MC.LogContext.registerClass('MC.LogContext',null,MC.ILogContext);MC.DatagramInfo.registerClass('MC.DatagramInfo');MC.HtmlElementStyle.registerClass('MC.HtmlElementStyle');MC.ServiceData.registerClass('MC.ServiceData');MC.CMServiceData.registerClass('MC.CMServiceData',MC.ServiceData);MC.ServiceEndpointData.registerClass('MC.ServiceEndpointData');MC.CMServiceEndpointData.registerClass('MC.CMServiceEndpointData',MC.ServiceEndpointData);MC.IMServiceData.registerClass('MC.IMServiceData',MC.ServiceData);MC.IMServiceEndpointData.registerClass('MC.IMServiceEndpointData',MC.ServiceEndpointData);MC.PDServiceData.registerClass('MC.PDServiceData',MC.ServiceData);MC.PDServiceEndpointData.registerClass('MC.PDServiceEndpointData',MC.ServiceEndpointData);MC.PEServiceData.registerClass('MC.PEServiceData',MC.ServiceData);MC.PEServiceEndpointData.registerClass('MC.PEServiceEndpointData',MC.ServiceEndpointData);MC.ServiceDataDiff.registerClass('MC.ServiceDataDiff');MC.ServiceDataHelper.registerClass('MC.ServiceDataHelper');MC.ServiceDataSet.registerClass('MC.ServiceDataSet');MC.ServiceEndpointDataSet.registerClass('MC.ServiceEndpointDataSet');MC.ChannelEndpointMultiplexer.$1=0;MC.Compatibility.$0=0;(function(){MC.Compatibility.$0=0;switch(Microsoft.Live.Core.Loader.get_settings().compatibility.version){case'3.0':MC.Compatibility.$0=3;break;case'3.1':MC.Compatibility.$0=4;break;case'3.5':MC.Compatibility.$0=5;break;case'3.7':MC.Compatibility.$0=1;break;case'4.0':MC.Compatibility.$0=2;break;}})();MC.LogContext.$0=new MC.LogContext(String.Empty);MC.ServiceDataHelper.allServices=[2,1,4,8];Type.registerNamespace('MSH');MSH.EventCounterFrequency=function(){};MSH.EventCounterFrequency.prototype={perSecond:0,perMinute:1}
MSH.EventCounterFrequency.registerEnum('MSH.EventCounterFrequency',false);MSH.IPerfCollector=function(){};MSH.IPerfCollector.registerInterface('MSH.IPerfCollector');MSH.IStatusCollector=function(){};MSH.IStatusCollector.registerInterface('MSH.IStatusCollector');MSH.IReport=function(){};MSH.IReport.registerInterface('MSH.IReport');MSH.ReportType=function(){};MSH.ReportType.prototype={omniture:1}
MSH.ReportType.registerEnum('MSH.ReportType',false);MSH.ReportName=function(){};MSH.ReportName.prototype={uiControls:1,consentStarted:2,consentCompleted:3,qosLoadTime:4,qosSignIn:5}
MSH.ReportName.registerEnum('MSH.ReportName',false);MSH.ReportedItemType=function(){};MSH.ReportedItemType.prototype={appUITag:8,barUITag:9,conversationListUITag:10,contactListUITag:11,conversationUITag:12,templateUITag:13,presenceUITag:14,otherUITag:15,signInResult:16,signInTotalTime:17,loadTime:18,signInStatusServerTime:19,signInServerTime:20,shareTag:21,signInTag:22}
MSH.ReportedItemType.registerEnum('MSH.ReportedItemType',false);MSH.$create_ReportKeyValue=function(key,value){var $o={};$o.key=key;$o.value=value;switch($o.key){case 8:case 9:case 11:case 10:case 12:case 15:case 14:case 13:case 22:case 21:$o.isDomainType=true;$o.isTimeDurationType=false;break;case 18:case 20:case 19:case 17:$o.isTimeDurationType=true;$o.isDomainType=false;break;default:$o.isTimeDurationType=false;$o.isDomainType=false;break;}return $o;}
MSH.H$0=function(){};MSH.H$0.prototype={$0:0,$1:1,$2:2,$3:4,$4:7}
MSH.H$0.registerEnum('MSH.H$0',false);MSH.DeprecationHelper=function(){}
MSH.DeprecationHelper.warnDeprecatedType=function(type,message){if(!Object.keyExists(MSH.DeprecationHelper.$0,type.get_fullName())){MSH.DeprecationHelper.$0[type.get_fullName()]=true;MSH.DeprecationHelper.$1(message);}}
MSH.DeprecationHelper.$1=function($p0){ss.Debug.trace($p0);}
MSH.EventCounter=function(name,countFrequency){MSH.EventCounter.initializeBase(this,[name]);switch(countFrequency){case 0:this.$7=1000;break;case 1:this.$7=60000;break;}this.reset();}
MSH.EventCounter.prototype={$7:0,$8:0,$9:null,addEntry:function(value){},reset:function(){this.$9=Date.get_now();this.$8=0;MSH.EventCounter.callBaseMethod(this,'reset');},increase:function(){this.$A();this.$8++;},toString:function(){this.$A();return MSH.EventCounter.callBaseMethod(this,'toString');},$A:function(){var $0=Date.get_now();var $1=false;while(!$1){var $2=MSH.DateTimeHelper.subtract($0,this.$9);$1=($2<this.$7);if(!$1){MSH.EventCounter.callBaseMethod(this,'addEntry',[this.$8]);this.$8=0;MSH.DateTimeHelper.addMilliseconds(this.$9,this.$7);}}}}
MSH.PerfCollector=function(){}
MSH.PerfCollector.get_instance=function(){if(MSH.PerfCollector.$0==null){MSH.PerfCollector.$0=new MSH.ScriptPerfCollector();}return MSH.PerfCollector.$0;}
MSH.PerfCounter=function(name){this.$1=name;this.reset();}
MSH.PerfCounter.prototype={$0:null,$1:null,$2:0,$3:0,$4:0,$5:0,$6:0,get_name:function(){return this.$1;},get_startTime:function(){return this.$0;},get_total:function(){return this.$2;},get_min:function(){return this.$3;},get_max:function(){return this.$4;},get_last:function(){return this.$5;},get_average:function(){return(this.$6>0)?this.$2/this.$6:0;},get_count:function(){return this.$6;},addEntry:function(value){this.$2+=value;this.$5=value;this.$6++;if(this.$4<value){this.$4=value;}if(this.$3>value){this.$3=value;}},toString:function(){var $0=new ss.StringBuilder();$0.append('[');$0.append(this.$1);$0.append(']');$0.append('Start time: ');$0.append(MSH.DateTimeHelper.toTimeString(this.$0));$0.append(' | ');$0.append('Last: ');$0.append(this.$5);$0.append(' | ');$0.append('Max: ');$0.append(this.$4);$0.append(' | ');$0.append('Min: ');$0.append(this.$3);$0.append(' | ');$0.append('Average: ');$0.append(this.get_average());$0.append(' | ');$0.append('Count: ');$0.append(this.$6);$0.append(' | ');$0.append('Total: ');$0.append(this.$2);return $0.toString();},reset:function(){this.$2=0;this.$3=0;this.$4=0;this.$5=0;this.$6=0;this.$0=Date.get_now();}}
MSH.ScriptPerfCollector=function(){this.$1={};this.$2={};this.$3=[];var $0=MSH.CookieHelper.getCookie('MWT_PerfCollector_Enabled');this.$4=($0==='true');this.$5=MSH.LogCollector.$B(window.location.pathname);}
MSH.ScriptPerfCollector.prototype={$1:null,$2:null,$3:null,$4:false,$5:null,addPerfCounterValue:function(name,value){if(this.$4){var $0=this.$6(name);$0.addEntry(value);}},increaseEventCounter:function(name,freq){if(this.$4){var $0=this.$7(name,freq);$0.increase();}},reset:function(){var $dict1=this.$1;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.value;$1.reset();}},registerStatusCollector:function(statusCollector){if(!Object.keyExists(this.$2,statusCollector.get_name())){this.$2[statusCollector.get_name()]=statusCollector;}},reportToConsole:function(){var $dict1=this.$2;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};var $1=$0.value;this.$8($1.getStatusText());}var $dict3=this.$1;for(var $key4 in $dict3){var $2={key:$key4,value:$dict3[$key4]};var $3=$2.value;this.$8($3.toString());}this.$9('PerfCollectorOutputToConsole');},get_enabled:function(){return this.$4;},set_enabled:function(value){if(this.$4!==value){this.$4=value;var $0;if(this.$4){this.reset();MSH.CookieHelper.setCookie('MWT_PerfCollector_Enabled','true');$0='PerfCollectorEnable';}else{MSH.CookieHelper.expireCookie('MWT_PerfCollector_Enabled');$0='PerfCollectorDisable';}this.$9($0);}return value;},registerRemoteServiceChannel:function(channel){if(!this.$3.contains(channel)){this.$3.add(channel);}},$6:function($p0){if(!Object.keyExists(this.$1,$p0)){this.$1[$p0]=new MSH.PerfCounter($p0);}return this.$1[$p0];},$7:function($p0,$p1){var $0=$p0+'-'+MSH.EventCounterFrequency.toString($p1);if(!Object.keyExists(this.$1,$0)){this.$1[$0]=new MSH.EventCounter($0,$p1);}return this.$1[$0];},$8:function($p0){var $0=window.console;if($0!=null){$0.log('['+this.$5+']'+$p0);}},$9:function($p0){var $enum1=ss.IEnumerator.getEnumerator(this.$3);while($enum1.moveNext()){var $0=$enum1.get_current();$0.sendMessage($p0,[]);}}}
MSH.RandomizedReportFilter=function(probability,notFilteredKeys){this.$0=probability;this.$1=notFilteredKeys||new Array(0);}
MSH.RandomizedReportFilter.prototype={$0:0,$1:null,filtered:function(item){if(this.$1.contains(item.key)){return false;}if(this.$0===1){return false;}var $0=MSH.MathHelper.random(1,this.$0);return $0!==1;}}
MSH.BrowserHelper=function(){}
MSH.BrowserHelper.get_isIE=function(){return Sys.Browser.agent===Sys.Browser.InternetExplorer;}
MSH.BrowserHelper.get_isWebKit=function(){return Sys.Browser.agent===Sys.Browser.Safari;}
MSH.BrowserHelper.get_isFirefox=function(){return Sys.Browser.agent===Sys.Browser.Firefox;}
MSH.BrowserHelper.get_isChrome=function(){return window.navigator.userAgent.indexOf(' Chrome/')>=0;}
MSH.BrowserHelper.get_supportsOmniture=function(){return!(MSH.BrowserHelper.get_isFirefox()&&Sys.Browser.version<3);}
MSH.BrowserHelper.get_supportsTransparentPngs=function(){return!MSH.BrowserHelper.get_isIE()||Sys.Browser.version>6;}
MSH.BrowserHelper.get_hasRestrictiveProxyConnectionLimit=function(){if(!MSH.BrowserHelper.get_isIE()){return false;}if(Sys.Browser.version<7){return false;}if(Sys.Browser.version<8){return true;}return window.maxConnectionsPerServer<=2;}
MSH.BrowserHelper.get_supportsHtmlChannel=function(){return!MSH.UriHelper.get_isSecureContext()||Sys.Browser.agent!==Sys.Browser.InternetExplorer||Sys.Browser.version>6;}
MSH.BrowserHelper.get_clearContentUrl=function(){return(MSH.BrowserHelper.get_supportsHtmlChannel())?'about:blank':Microsoft.Live.Core.Loader.get_settings().messenger.getResourceUrl('Empty.html');}
MSH.ChannelHelper=function(){}
MSH.ChannelHelper.createParentChannel=function(childPageFileName,iframeContainer,channelUrl,channelName){var $0=null;var $1=null;var $2=null;if(iframeContainer!=null){$2=iframeContainer.id;$1=iframeContainer.childNodes[0];$0=$1.src;}else{$2=MSH.DomHelper.createUniqueElementId();iframeContainer=MSH.DomHelper.createHiddenElement('div');iframeContainer.id=$2;document.body.appendChild(iframeContainer);$0=String.format(Microsoft.Live.Core.Loader.get_settings().messenger.getResourceUrl(childPageFileName)+'#domain={0}&loaderPath={1}&channelNames={2}&{3}',encodeURIComponent(window.location.hostname.toLowerCase()),encodeURIComponent(Microsoft.Live.Core.Loader.get_settings().messenger.getLoaderUrl()),channelName,Microsoft.Live.Core.Loader.get_settings().customSettings);}var $3=Microsoft.Live.Core.Loader.get_settings().messenger.getResourceUrl('Channel.html');$0=MSH.UriHelper.removeDoubleSlash($0);channelUrl=MSH.UriHelper.removeDoubleSlash(channelUrl);$3=MSH.UriHelper.removeDoubleSlash($3);return MLC.Channel.fromParent($2,$1,$0,channelUrl,$3,channelName);}
MSH.ChannelHelper.getPreloadedIframe=function(iframeResourceName){var $0=Microsoft.Live.Core.Loader.getIframeContainer(iframeResourceName);if($0!=null){if(!MSH.ChannelHelper.$1()){MSH.DomHelper.removeIframeFromContainer($0);$0=null;}}return $0;}
MSH.ChannelHelper.canCreateChannel=function(channelUrl){var $0=MLC.Channel.getChannelType();if($0===0){if(!MSH.BrowserHelper.get_supportsHtmlChannel()){return false;}if(String.isNullOrEmpty(channelUrl)){return false;}if(!MSH.ChannelHelper.$0()){return false;}}return true;}
MSH.ChannelHelper.$0=function(){var $0=null;try{$0=window.location.port;if(String.isNullOrEmpty($0)){var $1=window.location.protocol||String.Empty;switch($1.toLowerCase()){case'http:':$0='80';break;case'https:':$0='443';break;default:$0='0';break;}}}catch($2){return true;}return($0==='80'||$0==='443');}
MSH.ChannelHelper.$1=function(){if((Sys.Browser.agent===Sys.Browser.Firefox)&&(Sys.Browser.version<3)){return false;}switch(MLC.Channel.getChannelType()){case 0:return false;case 3:case 1:case 2:return true;default:return false;}}
MSH.CookieHelper=function(){}
MSH.CookieHelper.getCookie=function(name){var $0=document.cookie;name+='=';var $1=$0.indexOf(name);if($1>=0){$1+=name.length;var $2=$0.indexOf(';',$1);if($2<0){$2=$0.length;}var $3=$0.substring($1,$2);return unescape($3);}return String.Empty;}
MSH.CookieHelper.setCookie=function(name,value,domain){MSH.CookieHelper.setCookieWithExpiry(name,value,domain,-1);}
MSH.CookieHelper.setCookieWithExpiry=function(name,value,domain,secondsToExpiry){value=value||String.Empty;var $0=String.format('{0}={1}; path=/',name,escape(value));if(!ss.isNullOrUndefined(domain)){$0+='; domain='+encodeURIComponent(domain);}if(secondsToExpiry>=0){var $1=MSH.DateTimeHelper.minValue;if(secondsToExpiry>0){$1=Date.get_now();$1.setTime($1.getTime()+secondsToExpiry*1000);}$0+='; expires='+$1.toUTCString();}document.cookie=$0;}
MSH.CookieHelper.expireCookie=function(name,domain){MSH.CookieHelper.setCookieWithExpiry(name,String.Empty,domain,0);}
MSH.DomHelper=function(){}
MSH.DomHelper.createHiddenElement=function(tagName){var $0=document.createElement(tagName);$0.style.position='absolute';$0.style.top='-1000px';$0.style.width='300px';$0.style.height='300px';return $0;}
MSH.DomHelper.createUniqueElementId=function(){var $0=null;while($0==null){$0='msgr'+Math.floor(Math.random()*1024*1024);if(document.getElementById($0)!=null){$0=null;}}return $0;}
MSH.DomHelper.updateIframeSource=function(iframe,source){if(MSH.BrowserHelper.get_isIE()){var $0=iframe.cloneNode(true);$0.src=source;iframe.parentNode.replaceChild($0,iframe);}else{iframe.src=source;}}
MSH.DomHelper.removeIframeFromContainer=function(container){var $0=container.children[0];$0.src=MSH.BrowserHelper.get_clearContentUrl();container.removeChild($0);}
MSH.DomHelper.createWindowExport=function(name,callback){window[name]=function(){MSH.Scheduler.defer(callback);};}
MSH.DomHelper.clearWindowExport=function(name){window[name]=null;}
MSH.DomHelper.openPopup=function(url,name,width,height){var $0;var $1;if(MSH.BrowserHelper.get_isIE()){var $3=window.screenLeft;var $4=window.screenTop;var $5=document.documentElement;var $6=30;$1=$3+($5.clientWidth-width)/2;$0=$4+($5.clientHeight-height)/2-$6;}else{var $7=window.screenX;var $8=window.screenY;var $9=window.outerWidth;var $A=window.outerHeight;$1=$7+($9-width)/2;$0=$8+($A-height)/2;}var $2=['width='+width,'height='+height,'top='+$0,'left='+$1,'status=no','resizable=yes','toolbar=no','menubar=no','scrollbars=yes'];return window.open(url,name,$2.join(','));}
MSH.DomHelper.closePopup=function(popup){try{popup.close();}catch($0){}}
MSH.TestingHelper=function(){}
MSH.TestingHelper.get_isUnitTest=function(){return String.isNullOrEmpty(document.domain);}
MSH.Timeout=function(){}
MSH.Timer=function(callback,state,dueTime,period){this.$0=callback;this.$1=state;this.$5(dueTime,period);}
MSH.Timer.prototype={$0:null,$1:null,$2:0,$3:0,$4:0,change:function(dueTime,period){this.$6();this.$5(dueTime,period);},$5:function($p0,$p1){this.$2=$p1;if($p0===MSH.Timeout.infinite){}else if($p0===0){this.$7();}else if($p0>0){this.$3=window.setTimeout(ss.Delegate.create(this,this.$7),$p0);}},$6:function(){if(this.$3!==0){window.clearTimeout(this.$3);this.$3=0;}if(this.$4!==0){window.clearInterval(this.$4);this.$4=0;}},$7:function(){this.$0.invoke(this.$1);this.$3=0;if(this.$2>0){this.$4=window.setInterval(ss.Delegate.create(this,this.$8),this.$2);}},$8:function(){this.$0.invoke(this.$1);},dispose:function(){this.$6();}}
MSH.H$3=function(reportName){this.$1=[];this.$0=reportName;}
MSH.H$3.prototype={$0:0,add:function($p0){this.$1.add($p0.key+':'+$p0.value);},report:function(){},get_count:function(){return this.$1.length;},isReported:function($p0){return this.$1.contains($p0.key+':'+$p0.value);},$2:function(){this.$1.clear();}}
MSH.H$2=function(reportName){this.$0=reportName;this.$1=MSH.H$2.$13(reportName);this.$2={};this.$3=Microsoft.Live.Core.Loader.get_settings().market;this.$4=[];this.$5=MSH.DomainHelper.getReportingDomain(document.domain);this.$6=new MSH.RandomizedReportFilter((Microsoft.Live.Core.Loader.get_settings().messenger.testReportingEnabled)?1:1000,[20,19,17,16]);this.$12();}
MSH.H$2.$E=function($p0){var $0=$p0;var $1=document.getElementById('reportingIframe');if($1==null){$1=MSH.DomHelper.createHiddenElement('iframe');$1.id='reportingIframe';$1.src=$0;document.body.appendChild($1);}else{MSH.DomHelper.updateIframeSource($1,$0);}}
MSH.H$2.$13=function($p0){switch($p0){case 1:return'uicontrols';case 2:return'consentstarted';case 3:return'consentcompleted';case 4:case 5:return'qos';default:return'';}}
MSH.H$2.prototype={$0:0,$1:null,$2:null,$3:null,$4:null,$5:null,$6:null,$7:0,add:function($p0){if(this.isReported($p0)){return;}if(this.$6.filtered($p0)){return;}var $0=String.format('prop{0}',$p0.key);if($p0.isDomainType){this.$2[$0]=MSH.H$2.$D;}else if($p0.isTimeDurationType){this.$2[$0]=(String.isNullOrEmpty($p0.value)||($p0.value.toLowerCase()==='failure'))?'failure':this.$F($p0.value);}else{this.$2[$0]=$p0.value;}this.$14(MSH.$create_ReportKeyValue($p0.key,$p0.value));this.$7++;},report:function(){if(!MSH.BrowserHelper.get_supportsOmniture()){return;}if(this.$0!==2&&this.$0!==3&&this.$7===0){return;}var $0=this.$11();var $1=new MSH.Timer(MSH.H$2.$E,$0,MSH.H$2.$8,MSH.Timeout.infinite);this.$12();},$F:function($p0){var $0=MSH.ConvertHelper.tryParseUInt($p0);if($0<0){return'failure';}for(var $1=0;$1<MSH.H$2.$9.length;$1++){if($0<MSH.H$2.$9[$1]){if(MSH.H$2.$9[$1]<1000){return String.format('<{0}ms',MSH.H$2.$9[$1]);}else{return String.format('<{0}s',(MSH.H$2.$9[$1]/1000));}}}return String.format('>{0}s',(MSH.H$2.$9[MSH.H$2.$9.length-1]/1000));},get_count:function(){return Object.getKeyCount(this.$2)-2;},isReported:function($p0){if(ss.isNullOrUndefined($p0)){return true;}var $enum1=ss.IEnumerator.getEnumerator(this.$4);while($enum1.moveNext()){var $0=$enum1.get_current();if($0.key===$p0.key&&$0.value===$p0.value){return true;}}return false;},$10:function(){if(Microsoft.Live.Core.Loader.get_settings().messenger.testReportingEnabled){return Microsoft.Live.Core.Loader.get_settings().messenger.getResourceUrl('Reporting.Test.html');}else{return Microsoft.Live.Core.Loader.get_settings().messenger.getResourceUrl('Reporting.html');}},$11:function(){var $0=new ss.StringBuilder(this.$10());$0.append('?p=');$0.append(this.$1);var $1=new ss.StringBuilder();var $2=true;var $dict1=this.$2;for(var $key2 in $dict1){var $3={key:$key2,value:$dict1[$key2]};if(!$2){$1.append('+');}var $4=$3.key.substr('prop'.length);if($3.value===MSH.H$2.$D){$1.append($4);$2=false;}else{$0.append('&');$0.append($3.key);$0.append('=');$0.append($3.value.toString());}}$0.append(String.format('&d={0}',this.$5));if(!$1.get_isEmpty()){$0.append(String.format('&s={0}',$1.toString()));}return $0.toString();},$12:function(){Object.clearKeys(this.$2);this.$2[MSH.H$2.$A]=MSH.H$2.$B;this.$2[MSH.H$2.$C]=this.$3;this.$7=0;},$14:function($p0){if(this.isReported($p0)){return;}this.$4.add(MSH.$create_ReportKeyValue($p0.key,$p0.value));}}
MSH.ReportFactory=function(){}
MSH.ReportFactory.createReport=function(reportType,reportName){if(MSH.TestingHelper.get_isUnitTest()){return new MSH.H$3(reportName);}var $enum1=ss.IEnumerator.getEnumerator(MSH.ReportFactory.$0);while($enum1.moveNext()){var $0=$enum1.get_current();if(MSH.DomainHelper.extractBaseDomain(document.domain,$0,0)!=null){return new MSH.H$3(reportName);}}switch(reportType){case 1:return new MSH.H$2(reportName);default:return null;}}
MSH.H$1=function(collector){this.$0=collector;}
MSH.H$1.prototype={$0:null,$1:function(){try{document.attachEvent('onkeyup',ss.Delegate.create(this,function(){this.$2(window.event);}));}catch($0){MSH.Logger.logException(1,MC.LogContext.get_global(),'DebugKeyListener.Attach','Attach failed.',$0);}},$2:function($p0){if($p0.ctrlKey&&$p0.shiftKey&&$p0.altKey&&$p0.keyCode===68){this.$0.collectLogs();}}}
MSH.LogsCollectedEventArgs=function(state,logs){this.$0=state;this.$1=logs;}
MSH.LogsCollectedEventArgs.prototype={$0:null,$1:null,get_state:function(){return this.$0;},get_logs:function(){return this.$1;}}
MSH.LogCollector=function(){this.$2=[];this.$3=[];this.$4=MSH.LogCollector.$B(window.location.pathname);this.$9=0;new MSH.H$1(this).$1();}
MSH.LogCollector.get_instance=function(){return MSH.LogCollector.$1;}
MSH.LogCollector.$B=function($p0){var $0=$p0.toLowerCase().split('/');var $1=$0[$0.length-1];if($1==='messenger.html'||$1==='localstorage.html'){return $1;}else{return String.Empty;}}
MSH.LogCollector.$C=function($p0){var $0={};var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $1=$enum1.get_current();if($1.type===3){var $2=$1.extraState;var $3=$1.loggerName+'#'+$2.key;if(!String.isNullOrEmpty($1.context)){$3+='#'+$1.context;}$0[$3]=$2.value;}}return $0;}
MSH.LogCollector.$D=function($p0,$p1){var $0=new Array($p0.length+$p1.length);var $1=0,$2=0;while($1+$2<$0.length){if($1===$p1.length){$0[$1+$2]=$p0[$2];$2++;}else if($2===$p0.length){$0[$1+$2]=$p1[$1];$1++;}else if($p1[$1].time.getTime()>$p0[$2].time.getTime()){$0[$1+$2]=$p0[$2];$2++;}else{$0[$1+$2]=$p1[$1];$1++;}}return $0;}
MSH.LogCollector.$E=function($p0,$p1){var $0={};$0['State']=$p0;$0['Logs']=$p1;var $1='__logDumpDisplay'+((Math.random()*4294967295)).toString();var $2=document.createElement('div');$2.id=$1;$2.style.position='absolute';$2.style.top='1px';$2.style.left='1px';$2.style.right='1px';$2.style.width='99%';$2.style.height='95%';$2.style.zIndex=2147483647;var $3=document.createElement('a');$3.innerText='Close';$3.href='javascript:void(0)';$3.attachEvent('onclick',function(){var $1_0=document.getElementById($1);$1_0.style.visibility='hidden';$1_0.parentNode.removeChild($1_0);});$2.appendChild($3);var $4=document.createElement('textarea');$4.innerText=MLC.JSON.serialize($0);$4.style.width='100%';$4.style.height='100%';$4.rows=20;$2.appendChild($4);document.body.appendChild($2);}
MSH.LogCollector.prototype={$4:null,$5:null,$6:null,$7:0,$8:null,$9:0,add_logsCollected:function(value){this.$A=ss.Delegate.combine(this.$A,value);},remove_logsCollected:function(value){this.$A=ss.Delegate.remove(this.$A,value);},$A:null,getLocalLogEntries:function(){var $0=new Array(this.$2.length);for(var $1=0;$1<$0.length;$1++){$0[$1]=this.$2[$1];}this.$2.clear();return $0;},log:function(logger,entry){entry.loggerName=this.$4;this.$2.add(entry);if(entry.type===2){this.$F(entry.extraState);}if(logger!=null){logger.log(entry);}},collectLogs:function(){this.$7=0;this.$8=new Array(0);this.$12(1,this.getLocalLogEntries());if(this.$5!=null){this.$5.sendMessage('CollectLogs',[]);}else{this.$12(2,new Array(0));}if(this.$6!=null){this.$6.sendMessage('CollectLogs',[]);}else{this.$12(4,new Array(0));}},registerLocalStorageChannel:function(channel){if(this.$6==null){this.$6=channel;channel.add_messageReceived(ss.Delegate.create(this,this.$10));}},registerMessengerServicesChannel:function(channel){if(this.$5==null){this.$5=channel;channel.add_messageReceived(ss.Delegate.create(this,this.$11));}},$F:function($p0){this.$3.add($p0);this.$9+=$p0.responseText.length;while(this.$9>5000000){var $0=this.$3[0];this.$3.removeAt(0);this.$9-=$0.responseText.length;$0.responseText=String.Empty;}},$10:function($p0,$p1){var $0=$p1.get_command();var $1=$p1.get_parameters();switch($0){case'CollectLogsResponse':this.$12(4,$1[0]);break;}},$11:function($p0,$p1){var $0=$p1.get_command();var $1=$p1.get_parameters();switch($0){case'CollectLogsResponse':this.$12(2,$1[0]);break;}},$12:function($p0,$p1){this.$7|=$p0;this.$8=MSH.LogCollector.$D($p1,this.$8);if(this.$7===7){var $0=MSH.LogCollector.$C(this.$8);if(this.$A==null){MSH.LogCollector.$E($0,this.$8);}else{this.$A.invoke(this,new MSH.LogsCollectedEventArgs($0,this.$8));}this.$7=0;this.$8=new Array(0);}}}
MSH.Logger=function(){}
MSH.Logger.get_instance=function(){if(MSH.Logger.$0==null){MSH.Logger.$0=new MSH.ScriptLogger();}return MSH.Logger.$0;}
MSH.Logger.set_instance=function(value){MSH.Logger.$0=value;return value;}
MSH.Logger.logTrace=function(logContext,location,message){MSH.Logger.log(3,logContext,location,message);}
MSH.Logger.logInfo=function(logContext,location,message){MSH.Logger.log(2,logContext,location,message);}
MSH.Logger.logWarning=function(logContext,location,message){MSH.Logger.log(1,logContext,location,message);}
MSH.Logger.logError=function(logContext,location,message){MSH.Logger.log(0,logContext,location,message);}
MSH.Logger.log=function(logLevel,logContext,location,message){var $0=MC.$create_LogEntryInfo(0,logContext,logLevel,location,message,null);MSH.Logger.$3($0);}
MSH.Logger.logException=function(logLevel,logContext,location,message,e){var $0=MC.$create_LogEntryInfo(1,logContext,2,location,message,MC.$create_ExceptionLogEntryInfo(e));MSH.Logger.$3($0);}
MSH.Logger.logHttpRequest=function(logLevel,logContext,location,message,httpRequestInfo){var $0=MC.$create_LogEntryInfo(2,logContext,2,location,message,httpRequestInfo);MSH.Logger.$3($0);}
MSH.Logger.logStateChange=function(logLevel,logContext,location,message,stateChangeInfo){var $0=MC.$create_LogEntryInfo(3,logContext,2,location,message,stateChangeInfo);MSH.Logger.$3($0);}
MSH.Logger.$1=function($p0){var $0=String.concat('[',MSH.Logger.$2($p0.time),'-',$p0.loggerName,'-',MSH.Logger.logLevelAsString($p0.level),'(',$p0.location,'-',$p0.context,')',$p0.message);switch($p0.type){case 0:break;case 1:var $1=$p0.extraState;$0+=' - '+$1.message;break;case 2:var $2=$p0.extraState;$0+=' - '+$2.url+' - '+$2.statusText;break;case 3:var $3=$p0.extraState;$0+=' - '+$3.key+'=\"'+$3.value+'\"';break;}return $0+']';}
MSH.Logger.logLevelAsString=function(level){switch(level){case 0:return'Error';case 2:return'Information';case 3:return'Trace';case 1:return'Warning';}return null;}
MSH.Logger.$2=function($p0){return $p0.toTimeString()+'.'+$p0.getMilliseconds();}
MSH.Logger.$3=function($p0){MSH.LogCollector.get_instance().log(MSH.Logger.get_instance(),$p0);}
MSH.DomainHelper=function(){}
MSH.DomainHelper.getReportingDomain=function(domain){if(MSH.DomainHelper.extractBaseDomain(domain,'live.com',0)!=null){return'mail.live.com';}else if(MSH.DomainHelper.extractBaseDomain(domain,'live-int.com',0)!=null){return'mail.live-int.com';}else if(MSH.DomainHelper.extractBaseDomain(domain,'msn.com',0)!=null){return'msn.com';}else if(MSH.DomainHelper.extractBaseDomain(domain,'msn-int.com',0)!=null){return'msn-int.com';}else if(MSH.DomainHelper.extractBaseDomain(domain,'livejournal.com',0)!=null){return'livejournal.com';}return MSH.StringHelper.toLowerCase(domain);}
MSH.DomainHelper.extractBaseDomain=function(domain,baseDomain,extraLevels){if(baseDomain.startsWith('.')){baseDomain=MSH.StringHelper.substringToEnd(baseDomain,1);}baseDomain=MSH.StringHelper.toLowerCase(baseDomain);domain=MSH.StringHelper.toLowerCase(domain);if(!domain.endsWith('.'+baseDomain)&&domain!==baseDomain){return null;}if(extraLevels===0){return baseDomain;}var $0=MSH.StringHelper.splitChar(domain,'.');var $1=extraLevels+MSH.StringHelper.splitChar(baseDomain,'.').length;if($1>$0.length){$1=$0.length;}return MSH.StringHelper.joinSeparator('.',MSH.ArrayHelper.extractToEnd($0,-1*$1));}
MSH.DomainHelper.isDomainInDomainsList=function(domain,domainsList){if(String.isNullOrEmpty(domain)||(domainsList==null)||(domainsList.length===0)){return false;}domain=MSH.StringHelper.toLowerCase(domain);for(var $0=0,$1=domainsList.length;$0<$1;$0++){var $2=domainsList[$0];if(domain===$2||domain.endsWith('.'+$2)){return true;}}return false;}
MSH.ArrayHelper=function(){}
MSH.ArrayHelper.contains=function(array,value){if(array==null){return false;}return array.contains(value);}
MSH.ArrayHelper.sort=function(array,callback){array.sort(callback);}
MSH.ArrayHelper.sortArrayList=function(list,callback){list.sort(callback);}
MSH.ArrayHelper.extractToEnd=function(array,start){return array.extract(start);}
MSH.AsyncBatchedWorkItem=function(){}
MSH.AsyncBatchedWorkItem.prototype={add_executionStarted:function(value){this.$0=ss.Delegate.combine(this.$0,value);},remove_executionStarted:function(value){this.$0=ss.Delegate.remove(this.$0,value);},$0:null,add_executionCompleted:function(value){this.$1=ss.Delegate.combine(this.$1,value);},remove_executionCompleted:function(value){this.$1=ss.Delegate.remove(this.$1,value);},$1:null,$2:function($p0){this.onExecutionStarted();this.doExecute($p0);this.onExecutionCompleted();},onExecutionStarted:function(){if(this.$0!=null){this.$0.invoke(this,null);}},onExecutionCompleted:function(){if(this.$1!=null){this.$1.invoke(this,null);}}}
MSH.AsyncBatchedExecuter=function(batchSize,batchDelay){this.$5=batchSize;if(batchSize<0&&batchSize!==MSH.AsyncBatchedExecuter.unboundedBatchSize){throw new Error('Invalid batch size.');}this.$6=batchDelay;if(batchDelay<0){throw new Error('Invalid batch delay.');}}
MSH.AsyncBatchedExecuter.prototype={$0:false,$1:false,$2:false,$3:null,$4:0,$5:0,$6:0,$7:null,add_executionCompleted:function(value){this.$8=ss.Delegate.combine(this.$8,value);},remove_executionCompleted:function(value){this.$8=ss.Delegate.remove(this.$8,value);},$8:null,add_batchCompleted:function(value){this.$9=ss.Delegate.combine(this.$9,value);},remove_batchCompleted:function(value){this.$9=ss.Delegate.remove(this.$9,value);},$9:null,add_executerPaused:function(value){this.$A=ss.Delegate.combine(this.$A,value);},remove_executerPaused:function(value){this.$A=ss.Delegate.remove(this.$A,value);},$A:null,add_executerResumed:function(value){this.$B=ss.Delegate.combine(this.$B,value);},remove_executerResumed:function(value){this.$B=ss.Delegate.remove(this.$B,value);},$B:null,$C:null,get_started:function(){return this.$0;},get_completed:function(){return this.$1;},get_executedCount:function(){return this.$4;},get_paused:function(){return this.$2;},get_workItem:function(){return this.$3;},startExecution:function(workItem,condition){this.$7=condition;this.$3=workItem;this.$0=true;this.$2=false;this.$1=false;this.$4=0;if(condition==null){throw new Error('Condition cannot be null');}if(workItem==null){throw new Error('AsyncWorkItem cannot be null');}this.$F();},pause:function(){if(!this.$2){this.$2=true;if(this.$A!=null){this.$A.invoke(this,null);}}},resume:function(){if(this.$2){this.$2=false;if(this.$B!=null){this.$B.invoke(this,null);}this.$D(null);}},$D:function($p0){if(this.$2){return;}var $0=this.$5;var $1=this.$11();while(!$1&&($0-->0||this.$5===MSH.AsyncBatchedExecuter.unboundedBatchSize)){this.$3.$2(this);this.$4++;$1=this.$11();}if($1){this.$12();this.$10();}else{this.$E();this.$F();}},$E:function(){if(this.$9!=null){this.$9.invoke(this,null);}},$F:function(){this.$10();this.$C=new MSH.Timer(ss.Delegate.create(this,this.$D),null,this.$6,MSH.Timeout.infinite);},$10:function(){if(this.$C!=null){this.$C.dispose();}},$11:function(){return this.$7.invoke(this);},$12:function(){this.$0=false;this.$1=true;this.$2=false;if(this.$8!=null){this.$8.invoke(this,null);}}}
MSH.BigInt=function(radix,v){this.$3=[];this.$6=radix;this.$3.insert(0,v);this.$5=1;this.$9();}
MSH.BigInt.$7=function($p0){return new MSH.BigInt(1000,$p0);}
MSH.BigInt.$8=function($p0){return new MSH.BigInt(16,$p0);}
MSH.BigInt.$C=function($p0,$p1){var $0=[];for(var $1=0;$1<$p1;$1++){$0.insert($1,$p0[$1]);}for(var $2=0;$2<$0.length;$2++){if($0[$2]>0){$0[$2]=16-$0[$2];if(($2+1)<$0.length){$0[$2+1]=$0[$2+1]+1;}else if($0.length<16){$0.insert($2+1,1);}}}return $0;}
MSH.BigInt.isDecimalInteger=function(v){if(String.isNullOrEmpty(v)){return false;}v=v.trim();for(var $0=0;$0<v.length;$0++){var $1=MSH.StringHelper.charAt(v,$0);if($1<'0'||$1>'9'){if($0>0){return false;}else if($1!=='+'&&$1!=='-'){return false;}}}return true;}
MSH.BigInt.parseDecInt=function(radix,value){switch(radix){case 1000:return MSH.BigInt.$F(value);case 16:return MSH.BigInt.$E(value);default:return null;}}
MSH.BigInt.$E=function($p0){if(String.isNullOrEmpty($p0)){return null;}var $0=MSH.StringHelper.charAt($p0,0)==='-';if($0){$p0=MSH.StringHelper.substringToEnd($p0,1);}var $1=9;var $2=MSH.BigInt.$8(1000000000);var $3=MSH.BigInt.$8(0);var $4=MSH.MathHelper.ceiling($p0.length/$1);var $5=MSH.BigInt.$8(1);var $6=$p0.length;for(var $7=0;$7<$4;$7++){var $8=(($6-$1)<0)?0:$6-$1;var $9=MSH.ConvertHelper.parseInt(MSH.StringHelper.substring($p0,$8,$6-$8));var $A=MSH.BigInt.$8($9);$A.multiply($5);$3.add($A);$5.multiply($2);$6-=$1;}$3.$4=$0;return $3;}
MSH.BigInt.$F=function($p0){if($p0.length===0){return MSH.BigInt.$7(0);}else{var $0=false;var $1=[];if(MSH.StringHelper.charAt($p0,0)==='-'){$0=true;$p0=$p0.substring(1,$p0.length);}var $2;for($2=0;3*($2+1)<=$p0.length;$2++){$1.insert($2,MSH.ConvertHelper.parseInt(MSH.StringHelper.substringSection($p0,$p0.length-3*($2+1),$p0.length-3*$2)));}if(0!==($p0.length%3)){$1.insert($2++,MSH.ConvertHelper.parseInt($p0.substring(0,($p0.length%3))));}var $3=MSH.BigInt.$7(0);$3.$3=$1;$3.$5=$2;$3.$4=$0;return $3;}}
MSH.BigInt.parseHexIntToDecRadixBigInt=function(nStr){if(String.isNullOrEmpty(nStr)||nStr.length>16){return null;}nStr=MSH.StringHelper.toLowerCase(nStr.trim());var $0=MSH.BigInt.$10(nStr);if($0==null){return null;}var $1=($0.length===16)&&($0[0]>=8);if($1){$0=MSH.BigInt.$12($0);}var $2=MSH.BigInt.$7(0);var $3=MSH.BigInt.$7(1);for(var $4=$0.length-1;$4>=0;$4--){var $5=MSH.BigInt.$7($0[$4]);$5.multiply($3);$2.add($5);$3.multiply(MSH.BigInt.$7(16));}$2.$4=$1;return $2;}
MSH.BigInt.$10=function($p0){var $0=new Array($p0.length);for(var $1=0;$1<$p0.length;$1++){$0[$1]=MSH.BigInt.$11(MSH.StringHelper.charAt($p0,$1));if($0[$1]<0){return null;}}return $0;}
MSH.BigInt.$11=function($p0){if($p0>='0'&&$p0<='9'){return($p0-'0');}switch($p0){case'a':return 10;case'b':return 11;case'c':return 12;case'd':return 13;case'e':return 14;case'f':return 15;default:return-1;}}
MSH.BigInt.$12=function($p0){for(var $0=$p0.length-1;$0>=0;$0--){if($p0[$0]>0){$p0[$0]=16-$p0[$0];if($0>0){$p0[$0-1]+=1;}}}return $p0;}
MSH.BigInt.prototype={$4:false,$5:0,$6:0,$9:function(){for(var $0=this.$5-1;$0>=0;$0--){if(this.$3[$0]===0){this.$5--;}else{break;}}for(var $1=0;$1<2;$1++){if(this.$5===0){this.$4=false;}else{if(this.$3[this.$5-1]<0){for(var $2=0;$2<this.$5;$2++){this.$3[$2]=-this.$3[$2];}this.$4=!this.$4;}for(var $3=0;$3<this.$5-1;$3++){if(this.$3[$3]<0){var $4=MSH.MathHelper.ceiling(-this.$3[$3]/this.$6);this.$3[$3]=this.$3[$3]+(this.$6*$4);this.$3[$3+1]=this.$3[$3+1]-$4;}if(this.$3[$3]>=this.$6){var $5=MSH.MathHelper.floor(this.$3[$3]/this.$6);this.$3[$3]=this.$3[$3]%this.$6;this.$3[$3+1]=this.$3[$3+1]+$5;}}while(this.$3[this.$5-1]>=this.$6){this.$A();this.$3[this.$5]=MSH.MathHelper.floor(this.$3[this.$5-1]/this.$6);this.$3[this.$5-1]=this.$3[this.$5-1]%this.$6;this.$5++;}if(this.$3[this.$5-1]<0){for(var $6=0;$6<this.$5;$6++){this.$3[$6]=-this.$3[$6];}this.$4=!this.$4;}else{break;}}}},$A:function(){if(this.$5===this.$3.length){this.$3.add(0);}},add:function(n){for(var $0=0;$0<this.$5-n.$5;$0++){n.$3.insert(n.$5+$0,0);}for(var $1=0;$1<n.$5-this.$5;$1++){this.$3.insert(this.$5+$1,0);}this.$5=Math.max(n.$5,this.$5);if(this.$4===n.$4){for(var $2=0;$2<this.$5;$2++){this.$3[$2]=this.$3[$2]+n.$3[$2];}}else{for(var $3=0;$3<this.$5;$3++){this.$3[$3]=this.$3[$3]-n.$3[$3];}}this.$9();},multiply:function(n){var $0=new MSH.BigInt(this.$6,0);for(var $1=0;$1<n.$5+this.$5;$1++){if($1<$0.$3.length){$0.$3[$1]=0;}else{$0.$3.insert($1,0);}}for(var $2=0;$2<n.$5;$2++){for(var $3=0;$3<this.$5;$3++){$0.$3[$2+$3]=$0.$3[$2+$3]+(n.$3[$2]*this.$3[$3]);if($0.$3[$2+$3]!==0){$0.$5=Math.max($0.$5,$2+$3+1);}}$0.$9();}$0.$4=n.$4!==this.$4;this.$3=$0.$3;this.$4=$0.$4;this.$5=$0.$5;},modulus:function(n){while(true){if(n.$5===0||this.$5===0){break;}var $0=this.$5-n.$5;if($0<0){break;}var $1=this.$3[this.$5-1];var $2=n.$3[n.$5-1];if($1>=$2){var $3=MSH.MathHelper.floor($1/$2);for(var $4=0;$4<n.$5;$4++){this.$3[$4+$0]=this.$3[$4+$0]-($3*n.$3[$4]);}this.$9();continue;}if($0===0){break;}this.$3[this.$5-2]=this.$3[this.$5-2]+(this.$6*this.$3[this.$5-1]);this.$5--;}if(this.$4){if(n.$4){n.$4=false;this.add(n);n.$4=true;}else{this.add(n);}}this.$9();},toString:function(){switch(this.$6){case 16:return this.$B();case 1000:return this.$D();default:return String.Empty;}},$B:function(){if(this.$3.length===0){return'0';}var $0=this.$3;if(this.$4){$0=MSH.BigInt.$C($0,this.$5);}var $1=new ss.StringBuilder();var $2=false;for(var $3=$0.length-1;$3>=0;$3--){if(!$2){if($0[$3]!==0){$2=true;}}if($2){$1.append(MSH.StringHelper.charAt('0123456789abcdef',$0[$3]));}}return $1.toString();},$D:function(){if(this.$5===0){return'0';}var $0='';for(var $1=0;$1<this.$5;$1++){$0=this.$3[$1]+$0;if($1<this.$5-1){for(var $2=10;$2<this.$6;$2*=10){if(this.$3[$1]<$2){$0=0+$0;}}}}if(this.$4){$0='-'+$0;}return $0;}}
MSH.CollectionHelper=function(){}
MSH.CollectionHelper.toArray=function(list){return list;}
MSH.ContactHelper=function(){}
MSH.ContactHelper.isUnknownContact=function(contactInfo){return contactInfo.id!=null&&(contactInfo.id==='00000000-0000-0000-0000-000000000000'||contactInfo.id==='{00000000-0000-0000-0000-000000000000}');}
MSH.ContactHelper.getIMAddressInfoKey=function(address){var $0;switch(address.type){case 13:$0='13:'+address.address+';via=14:'+address.network;break;default:$0=address.type+':'+(address.address||'');break;}return MSH.StringHelper.toLowerCase($0);}
MSH.ContactHelper.computeIMAddressId=function(addressInfo){var $0;switch(addressInfo.type){case 1:if(String.isNullOrEmpty(addressInfo.cid)){$0='1:'+addressInfo.address;}else{$0='11:'+addressInfo.cid;}break;case 11:var $1=addressInfo.cid;$0='11:'+$1;break;case 13:$0='13:'+addressInfo.address+';via=14:'+addressInfo.network;break;case 4:case 8:$0='4:tel:'+addressInfo.address;break;case 16:$0='16:smtp:'+addressInfo.address;break;case 2:case 32:$0=addressInfo.type+':'+addressInfo.address;break;default:return String.Empty;}return MSH.StringHelper.toLowerCase($0);}
MSH.ContactHelper.areIMAddressesEqual=function(address1,address2){if(address1===address2){return true;}if(address1==null||address2==null){return false;}if(address1.type===address2.type){switch(address1.type){case 13:return address1.address===address2.address&&address1.network===address2.network;case 11:return address1.cid===address2.cid;default:return address1.address===address2.address;}}return false;}
MSH.ConvertHelper=function(){}
MSH.ConvertHelper.convertDecToHex=function(decInt){var $0=MSH.BigInt.parseDecInt(16,decInt);if($0==null){return null;}else{return $0.toString();}}
MSH.ConvertHelper.tryParseInt=function(s){var $0=parseInt(s,10);if(isNaN($0)){return-1;}return $0;}
MSH.ConvertHelper.tryParseUInt=function(s){var $0=parseInt(s,10);if(isNaN($0)){return-1;}return $0;}
MSH.ConvertHelper.parseInt=function(s){return parseInt(s,10);}
MSH.ConvertHelper.parseHexInt=function(s){var $0=parseInt(s,16);if(isNaN($0)){return 0;}return $0;}
MSH.ConvertHelper.uInt32ToHexString=function(ui){return ui.toString(16);}
MSH.DateTimeHelper=function(){}
MSH.DateTimeHelper.exceeded=function(start,finish,milliseconds){return(finish.getTime()-start.getTime())>milliseconds;}
MSH.DateTimeHelper.isGreaterThanOrEqual=function(d1,d2){return d1.getTime()>=d2.getTime();}
MSH.DateTimeHelper.addMilliseconds=function(d,ms){d.setTime(d.getTime()+ms);return d;}
MSH.DateTimeHelper.toTimeString=function(d){return d.toTimeString();}
MSH.DateTimeHelper.subtract=function(a,b){return(a.getTime()-b.getTime());}
MSH.DateTimeHelper.parseTimeStamp=function(timeStamp){var $0=new RegExp('^(\\d{4})-(\\d{2})-(\\d{2})(T|\\s{1})(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$');var $1=null;var $2=8;$1=$0.exec(timeStamp);if($1!=null&&$1.length===$2){return MSH.DateTimeHelper.$0(MSH.ConvertHelper.parseInt($1[1]),MSH.ConvertHelper.parseInt($1[2])-1,MSH.ConvertHelper.parseInt($1[3]),MSH.ConvertHelper.parseInt($1[5]),MSH.ConvertHelper.parseInt($1[6]),MSH.ConvertHelper.parseInt($1[7]));}return Date.get_now();}
MSH.DateTimeHelper.isToday=function(dateTime){var $0=Date.get_now();return(($0.getFullYear()===dateTime.getFullYear())&&($0.getMonth()===dateTime.getMonth())&&($0.getDate()===dateTime.getDate()));}
MSH.DateTimeHelper.isYesterday=function(dateTime){var $0=Date.get_now();$0.setDate($0.getDate()-1);return($0.getFullYear()===dateTime.getFullYear())&&($0.getMonth()===dateTime.getMonth())&&($0.getDate()===dateTime.getDate());}
MSH.DateTimeHelper.toUTCString=function(date){return date.toUTCString();}
MSH.DateTimeHelper.$0=function($p0,$p1,$p2,$p3,$p4,$p5){return new Date(Date.UTC($p0,$p1,$p2,$p3,$p4,$p5));}
MSH.RegexHelper=function(){}
MSH.RegexHelper.isMatch=function(pattern,input,flags){if(flags==null){flags=String.Empty;}return new RegExp(pattern,flags).test(input);}
MSH.RegexHelper.replace=function(pattern,input,replacement,flags){if(flags==null){flags=String.Empty;}return input.replace(new RegExp(pattern,flags),replacement);}
MSH.Scheduler=function(){}
MSH.Scheduler.defer=function(callback){var $0=null;$0=new MSH.Timer(function($p1_0){$0.dispose();callback.invoke();},null,1,MSH.Timeout.infinite);}
MSH.StringHelper=function(){}
MSH.StringHelper.toUpperCase=function(s){return s.toUpperCase();}
MSH.StringHelper.toLowerCase=function(s){return s.toLowerCase();}
MSH.StringHelper.charAt=function(s,index){return s.charAt(index);}
MSH.StringHelper.charCodeAt=function(s,index){return s.charCodeAt(index);}
MSH.StringHelper.replace=function(s,oldValue,newValue){return s.replaceAll(oldValue,newValue);}
MSH.StringHelper.substringToEnd=function(s,start){return s.substr(start);}
MSH.StringHelper.substringSection=function(s,start,end){return s.substring(start,end);}
MSH.StringHelper.substring=function(s,start,length){return s.substr(start,length);}
MSH.StringHelper.join=function(s){return MSH.StringHelper.joinSeparator(' ',s);}
MSH.StringHelper.joinSeparator=function(separator,s){return s.join(separator);}
MSH.StringHelper.splitString=function(source,separator){return source.split(separator);}
MSH.StringHelper.splitLimit=function(source,separator,limit){return source.split(separator,limit);}
MSH.StringHelper.splitChar=function(source,separator){return source.split(separator);}
MSH.StringHelper.listToArray=function(stringList){return MSH.CollectionHelper.toArray(stringList);}
MSH.StringHelper.getByteCount=function(s){if(String.isNullOrEmpty(s)){return 0;}var $0=0;for(var $1=0;$1<s.length;$1++){var $2=s.charCodeAt($1);if($2<=127){$0++;}else if($2<=2047){$0+=2;}else if($2>=55296&&$2<=57343){$0+=2;}else{$0+=3;}}return $0;}
MSH.StringHelper.fromChar=function(c,count){return String.fromChar(c,count);}
MSH.StringHelper.fromCharCode=function(value){return String.fromCharCode(value);}
MSH.StringHelper.localeCompare=function(a,b){return a.localeCompare(b);}
MSH.StringHelper.localeFormat=function(format,values){var $0=String.localeFormat;var $1=[];$1.add(format);$1.addRange(values);return $0.apply(null,$1);}
MSH.StringHelper.toCamelCase=function(s){if(s==='ID'){return'id';}var $0=false;var $1=0;for(var $2=0;$2<s.length;$2++){var $3=s.charAt($2);if(($3>='A')&&($3<='Z')){$1++;}else{$0=true;break;}}if((!$0&&(s.length!==1))||($1===0)){return s;}if($1>1){return s.substr(0,$1-1).toLowerCase()+s.substr($1-1);}else if(s.length===1){return s.toLowerCase();}return s.substr(0,1).toLowerCase()+s.substr(1);}
MSH.StringHelper.truncate=function(str,length){if(str.length>length){return str.substring(0,length);}else{return str;}}
MSH.UriHelper=function(){}
MSH.UriHelper.messengerEncode=function(str){if(str!=null){var $0=new ss.StringBuilder();for(var $1=0;$1<str.length;$1++){var $2=MSH.StringHelper.charAt(str,$1);switch($2){case'%':$0.append('%25');break;case' ':$0.append('%20');break;case'\t':$0.append('%09');break;case'\r':$0.append('%0D');break;case'\n':$0.append('%0A');break;default:$0.append($2);break;}}str=$0.toString();}return str;}
MSH.UriHelper.encode=function(str){return encodeURIComponent(str);}
MSH.UriHelper.decode=function(str){return decodeURIComponent(str);}
MSH.UriHelper.addParameter=function(url,name,value){var $0='?';var $1=url.indexOf('?');if($1!==-1){if(url.indexOf('=',$1)!==-1){$0='&';}else{$0=String.Empty;}}return String.concat(url,$0,name,'=',value);}
MSH.UriHelper.removeDoubleSlash=function(url){if(String.isNullOrEmpty(url)){return url;}var $0=url.indexOf('://');if($0<0){return url;}var $1=$0+3;var $2=url.indexOf('?',$1);if($2<0){$2=url.indexOf('#',$1);if($2<0){$2=url.length;}}return MSH.StringHelper.substringSection(url,0,$1)+MSH.StringHelper.substringSection(url,$1,$2).replaceAll('//','/')+MSH.StringHelper.substringToEnd(url,$2);}
MSH.UriHelper.updateUrlProtocol=function(url){if(MSH.UriHelper.get_isSecureContext()){if(url!=null&&url.startsWith('http:')){url=url.replaceAll('http:','https:');}}return url;}
MSH.UriHelper.updateDisplayPictureUrl=function(url){url=MSH.UriHelper.updateUrlProtocol(url);if(String.isNullOrEmpty(url)){return String.Empty;}var $0='https://';if(url.startsWith($0)){url=MSH.StringHelper.substringToEnd(url,$0.length);var $1=url;var $2=String.Empty;var $3=url.indexOf('/');if($3>0){$1=url.substring(0,$3);$2=MSH.StringHelper.substringToEnd(url,$3);}if(($1.indexOf('messenger.services.live.com')<0)&&($1.indexOf('.live.com')>0)){$1=$1.replaceAll('.live.com','.msn.com');}if(($1.indexOf('messenger.live-int.com')<0)&&($1.indexOf('.live-int.com')>0)){$1=$1.replaceAll('.live-int.com','.msn-int.com');}url=$0+$1+$2;}return url;}
MSH.UriHelper.removeParametersFromUrl=function(url){if(url==null||url.length===0){return String.Empty;}var $0=url.indexOf('?');var $1=($0>0)?url.substring(0,$0):url;return($1.endsWith('/'))?$1:$1+'/';}
MSH.UriHelper.get_isSecureContext=function(){return(MSH.UriHelper.get_windowLocationProtocol()==='https:');}
MSH.UriHelper.get_windowLocationProtocol=function(){try{return window.location.protocol.toLowerCase();}catch($0){try{var $1=document.location;return $1.protocol.toLocaleLowerCase();}catch($2){return'http:';}}}
MSH.XmlHelper=function(){}
MSH.XmlHelper.parseXmlDocument=function(xml){return ss.XmlDocumentParser.parse(xml);}
MSH.XmlHelper.selectSingleNode=function(root,path){return root.selectSingleNode(path);}
MSH.XmlHelper.selectNodes=function(root,path){return root.selectNodes(path);}
MSH.XmlHelper.getAttribute=function(node,attrName){var $0=node.attributes.getNamedItem(attrName);if($0!=null){return $0.value;}return null;}
MSH.XmlHelper.isElement=function(node,name){if(node.nodeType!==1){return false;}return node.nodeName===name;}
MSH.XmlHelper.xmlNodeValue=function(node){if(node==null){return String.Empty;}if(node.nodeType===3){return node.nodeValue;}else{if(node.childNodes==null){return String.Empty;}var $0=new ss.StringBuilder();for(var $1=0;$1<node.childNodes.length;$1++){var $2=node.childNodes[$1];if($2.nodeType===3){$0.append($2.nodeValue);}}return $0.toString();}}
MSH.XmlHelper.xmlNodeName=function(node){if((node==null)||(node.nodeType===3)){return null;}return node.nodeName;}
MSH.XmlHelper.xmlEscape=function(str){if(str==null){return null;}MSH.XmlHelper.$0.lastIndex=0;if(MSH.XmlHelper.$0.test(str)){str=str.replace(MSH.XmlHelper.$0,function($p1_0){return'&#x'+$p1_0.charCodeAt(0).toString(16).padLeft(2,'0')+';';});}return str;}
MSH.ILogPanel=function(){};MSH.ILogPanel.registerInterface('MSH.ILogPanel');MSH.ScriptLogger=function(){this.$0=MSH.ScriptLogger.$1();}
MSH.ScriptLogger.$1=function(){var $0=window.parent.frames;for(var $1=0;$1<$0.length;$1++){try{if(MSH.ScriptLogger.$2($0[$1])){var $2=$0[$1];return $2;}}catch($3){}}return null;}
MSH.ScriptLogger.$2=function($p0){if(($p0.document.domain===document.domain)&&($p0.location.pathname.toLowerCase().indexOf('/logger.html')>=0)&&!ss.isNullOrUndefined($p0.logTrace)){return true;}return false;}
MSH.ScriptLogger.prototype={$0:null,log:function(entry){var $0=MSH.Logger.$1(entry);if(this.$0!=null){this.$0.logTrace($0);}}}
MSH.MathHelper=function(){}
MSH.MathHelper.random=function(minimum,maximum){return Math.floor(minimum+(Math.random()*(maximum-minimum)));}
MSH.MathHelper.ceiling=function(d){return Math.ceil(d);}
MSH.MathHelper.floor=function(d){return Math.floor(d);}
MSH.DeprecationHelper.registerClass('MSH.DeprecationHelper');MSH.PerfCounter.registerClass('MSH.PerfCounter');MSH.EventCounter.registerClass('MSH.EventCounter',MSH.PerfCounter);MSH.PerfCollector.registerClass('MSH.PerfCollector');MSH.ScriptPerfCollector.registerClass('MSH.ScriptPerfCollector',null,MSH.IPerfCollector);MSH.RandomizedReportFilter.registerClass('MSH.RandomizedReportFilter');MSH.BrowserHelper.registerClass('MSH.BrowserHelper');MSH.ChannelHelper.registerClass('MSH.ChannelHelper');MSH.CookieHelper.registerClass('MSH.CookieHelper');MSH.DomHelper.registerClass('MSH.DomHelper');MSH.TestingHelper.registerClass('MSH.TestingHelper');MSH.Timeout.registerClass('MSH.Timeout');MSH.Timer.registerClass('MSH.Timer',null,ss.IDisposable);MSH.H$3.registerClass('MSH.H$3',null,MSH.IReport);MSH.H$2.registerClass('MSH.H$2',null,MSH.IReport);MSH.ReportFactory.registerClass('MSH.ReportFactory');MSH.H$1.registerClass('MSH.H$1');MSH.LogsCollectedEventArgs.registerClass('MSH.LogsCollectedEventArgs');MSH.LogCollector.registerClass('MSH.LogCollector');MSH.Logger.registerClass('MSH.Logger');MSH.DomainHelper.registerClass('MSH.DomainHelper');MSH.ArrayHelper.registerClass('MSH.ArrayHelper');MSH.AsyncBatchedWorkItem.registerClass('MSH.AsyncBatchedWorkItem');MSH.AsyncBatchedExecuter.registerClass('MSH.AsyncBatchedExecuter');MSH.BigInt.registerClass('MSH.BigInt');MSH.CollectionHelper.registerClass('MSH.CollectionHelper');MSH.ContactHelper.registerClass('MSH.ContactHelper');MSH.ConvertHelper.registerClass('MSH.ConvertHelper');MSH.DateTimeHelper.registerClass('MSH.DateTimeHelper');MSH.RegexHelper.registerClass('MSH.RegexHelper');MSH.Scheduler.registerClass('MSH.Scheduler');MSH.StringHelper.registerClass('MSH.StringHelper');MSH.UriHelper.registerClass('MSH.UriHelper');MSH.XmlHelper.registerClass('MSH.XmlHelper');MSH.ScriptLogger.registerClass('MSH.ScriptLogger',null,MC.ILogger);MSH.MathHelper.registerClass('MSH.MathHelper');MSH.DeprecationHelper.$0=null;(function(){MSH.DeprecationHelper.$0={};})();MSH.PerfCollector.$0=null;MSH.Timeout.infinite=-1;MSH.H$2.$8=1;MSH.H$2.$9=[250,1000,3000,5000,10000];MSH.H$2.$A='prop1';MSH.H$2.$B=MSH.UriHelper.encode('Messenger External Platform');MSH.H$2.$C='prop2';MSH.H$2.$D='UITagsProp';MSH.ReportFactory.$0=['live.com','live-int.com'];MSH.LogCollector.$1=new MSH.LogCollector();MSH.Logger.$0=null;MSH.AsyncBatchedExecuter.unboundedBatchSize=-1;MSH.BigInt.hexRadix=16;MSH.BigInt.decRadix=1000;MSH.DateTimeHelper.minValue=new Date(0);MSH.XmlHelper.$0=new RegExp('[\\x00-\\x08\\x0b-\\x0c\\x0e-\\x1f\\x22\\x26\\x27\\x3c\\x3e\\x60]','g');

 });